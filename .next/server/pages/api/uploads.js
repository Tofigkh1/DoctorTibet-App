"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/uploads";
exports.ids = ["pages/api/uploads"];
exports.modules = {

/***/ "firebase-admin":
/*!*********************************!*\
  !*** external "firebase-admin" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("firebase-admin");

/***/ }),

/***/ "multiparty":
/*!*****************************!*\
  !*** external "multiparty" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("multiparty");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "firebase/analytics":
/*!*************************************!*\
  !*** external "firebase/analytics" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase/analytics");;

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/storage":
/*!***********************************!*\
  !*** external "firebase/storage" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("firebase/storage");;

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("uuid");;

/***/ }),

/***/ "(api)/./pages/api/uploads/index.js":
/*!************************************!*\
  !*** ./pages/api/uploads/index.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _server_constant_method__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../server/constant/method */ \"(api)/./server/constant/method.js\");\n/* harmony import */ var _server_constant_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../server/constant/router */ \"(api)/./server/constant/router.js\");\n/* harmony import */ var _server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../server/routes/uploads */ \"(api)/./server/routes/uploads.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__]);\n_server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst config = {\n  api: {\n    bodyParser: false // multiparty kullanıldığı için bodyParser devre dışı bırakıldı\n  }\n};\n\nasync function handler(req, res) {\n  try {\n    // CORS ayarları\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n\n    // Preflight istekleri için hızlı bir yanıt döndür\n    if (req.method === \"OPTIONS\") {\n      res.status(200).end();\n      return;\n    }\n\n    // API metotlarına göre yönlendirme\n    switch (req.method) {\n      case _server_constant_method__WEBPACK_IMPORTED_MODULE_0__.METHOD.POST:\n        if (typeof _server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerUploadPOST === \"function\") {\n          await (0,_server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerUploadPOST)(req, res, _server_constant_router__WEBPACK_IMPORTED_MODULE_1__.ROUTER.UPLOADS);\n        } else {\n          res.status(500).json({\n            error: \"handlerUploadPOST function is not defined\"\n          });\n        }\n        break;\n      case _server_constant_method__WEBPACK_IMPORTED_MODULE_0__.METHOD.GET:\n        {\n          const {\n            folder,\n            fileName,\n            all,\n            fromCollection\n          } = req.query;\n          if (fromCollection === \"true\") {\n            // Firestore'dan veri çekmek için yeni rota\n            if (typeof _server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerGetVideosCollection === \"function\") {\n              await (0,_server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerGetVideosCollection)(req, res);\n            } else {\n              res.status(500).json({\n                error: \"handlerGetVideosCollection function is not defined\"\n              });\n            }\n          } else if (all === \"true\") {\n            // Tüm dosyaların listesi isteniyor\n            if (typeof _server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerGetAllVideos === \"function\") {\n              await (0,_server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerGetAllVideos)(req, res, folder);\n            } else {\n              res.status(500).json({\n                error: \"handlerGetAllVideos function is not defined\"\n              });\n            }\n          } else if (folder && fileName) {\n            // Tek bir dosyanın URL'si isteniyor\n            if (typeof _server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerGetFileURL === \"function\") {\n              await (0,_server_routes_uploads__WEBPACK_IMPORTED_MODULE_2__.handlerGetFileURL)(req, res, folder, fileName);\n            } else {\n              res.status(500).json({\n                error: \"handlerGetFileURL function is not defined\"\n              });\n            }\n          } else {\n            res.status(400).json({\n              error: \"Missing required parameters: folder and fileName, or set all=true, or set fromCollection=true\"\n            });\n          }\n          break;\n        }\n      default:\n        // Desteklenmeyen HTTP metodu\n        res.status(405).json({\n          error: \"Method not allowed\"\n        });\n        break;\n    }\n  } catch (error) {\n    console.error(\"Error in API handler:\", error);\n    res.status(500).json({\n      error: \"Internal server error\"\n    });\n  }\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxHQUFHLENBQUMsQ0FBQ0ksSUFBSSxDQUFDO1VBQUVDLEtBQUssRUFBRTtRQUFxQixDQUFDLENBQUM7UUFDckQ7SUFDSjtFQUNGLENBQUMsQ0FBQyxPQUFPQSxLQUFLLEVBQUU7SUFDZE8sT0FBTyxDQUFDUCxLQUFLLENBQUMsdUJBQXVCLEVBQUVBLEtBQUssQ0FBQztJQUM3Q1IsR0FBRyxDQUFDRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUU7SUFBd0IsQ0FBQyxDQUFDO0VBQzFEO0FBQ0YsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3BhZ2VzL2FwaS91cGxvYWRzL2luZGV4LmpzPzRiMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTUVUSE9EIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZlci9jb25zdGFudC9tZXRob2RcIjtcbmltcG9ydCB7IFJPVVRFUiB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvY29uc3RhbnQvcm91dGVyXCI7XG5cbmltcG9ydCB7XG4gIGhhbmRsZXJVcGxvYWRQT1NULFxuICBoYW5kbGVyR2V0RmlsZVVSTCxcbiAgaGFuZGxlckdldEFsbFZpZGVvcyxcbiAgaGFuZGxlckdldFZpZGVvc0NvbGxlY3Rpb24sIC8vIFllbmkgZWtsZW5lbiBmb25rc2l5b25cbn0gZnJvbSBcIi4uLy4uLy4uL3NlcnZlci9yb3V0ZXMvdXBsb2Fkc1wiO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZSwgLy8gbXVsdGlwYXJ0eSBrdWxsYW7EsWxkxLHEn8SxIGnDp2luIGJvZHlQYXJzZXIgZGV2cmUgZMSxxZ/EsSBixLFyYWvEsWxkxLFcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgdHJ5IHtcbiAgICAvLyBDT1JTIGF5YXJsYXLEsVxuICAgIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpO1xuICAgIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULCBQT1NULCBQVVQsIERFTEVURVwiKTtcbiAgICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZVwiKTtcblxuICAgIC8vIFByZWZsaWdodCBpc3Rla2xlcmkgacOnaW4gaMSxemzEsSBiaXIgeWFuxLF0IGTDtm5kw7xyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09IFwiT1BUSU9OU1wiKSB7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuZW5kKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQVBJIG1ldG90bGFyxLFuYSBnw7ZyZSB5w7ZubGVuZGlybWVcbiAgICBzd2l0Y2ggKHJlcS5tZXRob2QpIHtcbiAgICAgIGNhc2UgTUVUSE9ELlBPU1Q6XG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlclVwbG9hZFBPU1QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGF3YWl0IGhhbmRsZXJVcGxvYWRQT1NUKHJlcSwgcmVzLCBST1VURVIuVVBMT0FEUyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzXG4gICAgICAgICAgICAuc3RhdHVzKDUwMClcbiAgICAgICAgICAgIC5qc29uKHsgZXJyb3I6IFwiaGFuZGxlclVwbG9hZFBPU1QgZnVuY3Rpb24gaXMgbm90IGRlZmluZWRcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNRVRIT0QuR0VUOiB7XG4gICAgICAgIGNvbnN0IHsgZm9sZGVyLCBmaWxlTmFtZSwgYWxsLCBmcm9tQ29sbGVjdGlvbiB9ID0gcmVxLnF1ZXJ5O1xuXG4gICAgICAgIGlmIChmcm9tQ29sbGVjdGlvbiA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAvLyBGaXJlc3RvcmUnZGFuIHZlcmkgw6dla21layBpw6dpbiB5ZW5pIHJvdGFcbiAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXJHZXRWaWRlb3NDb2xsZWN0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXJHZXRWaWRlb3NDb2xsZWN0aW9uKHJlcSwgcmVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgIC5zdGF0dXMoNTAwKVxuICAgICAgICAgICAgICAuanNvbih7IGVycm9yOiBcImhhbmRsZXJHZXRWaWRlb3NDb2xsZWN0aW9uIGZ1bmN0aW9uIGlzIG5vdCBkZWZpbmVkXCIgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFsbCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAvLyBUw7xtIGRvc3lhbGFyxLFuIGxpc3Rlc2kgaXN0ZW5peW9yXG4gICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyR2V0QWxsVmlkZW9zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXJHZXRBbGxWaWRlb3MocmVxLCByZXMsIGZvbGRlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAuc3RhdHVzKDUwMClcbiAgICAgICAgICAgICAgLmpzb24oeyBlcnJvcjogXCJoYW5kbGVyR2V0QWxsVmlkZW9zIGZ1bmN0aW9uIGlzIG5vdCBkZWZpbmVkXCIgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZvbGRlciAmJiBmaWxlTmFtZSkge1xuICAgICAgICAgIC8vIFRlayBiaXIgZG9zeWFuxLFuIFVSTCdzaSBpc3Rlbml5b3JcbiAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXJHZXRGaWxlVVJMID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXJHZXRGaWxlVVJMKHJlcSwgcmVzLCBmb2xkZXIsIGZpbGVOYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgIC5zdGF0dXMoNTAwKVxuICAgICAgICAgICAgICAuanNvbih7IGVycm9yOiBcImhhbmRsZXJHZXRGaWxlVVJMIGZ1bmN0aW9uIGlzIG5vdCBkZWZpbmVkXCIgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgICAgIGVycm9yOlxuICAgICAgICAgICAgICBcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyczogZm9sZGVyIGFuZCBmaWxlTmFtZSwgb3Igc2V0IGFsbD10cnVlLCBvciBzZXQgZnJvbUNvbGxlY3Rpb249dHJ1ZVwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBEZXN0ZWtsZW5tZXllbiBIVFRQIG1ldG9kdVxuICAgICAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiBcIk1ldGhvZCBub3QgYWxsb3dlZFwiIH0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIEFQSSBoYW5kbGVyOlwiLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk1FVEhPRCIsIlJPVVRFUiIsImhhbmRsZXJVcGxvYWRQT1NUIiwiaGFuZGxlckdldEZpbGVVUkwiLCJoYW5kbGVyR2V0QWxsVmlkZW9zIiwiaGFuZGxlckdldFZpZGVvc0NvbGxlY3Rpb24iLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNldEhlYWRlciIsIm1ldGhvZCIsInN0YXR1cyIsImVuZCIsIlBPU1QiLCJVUExPQURTIiwianNvbiIsImVycm9yIiwiR0VUIiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJhbGwiLCJmcm9tQ29sbGVjdGlvbiIsInF1ZXJ5IiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/uploads/index.js\n");

/***/ }),

/***/ "(api)/./server/configs/firebase.js":
/*!************************************!*\
  !*** ./server/configs/firebase.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics),\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   fileStorage: () => (/* binding */ fileStorage),\n/* harmony export */   firestore: () => (/* binding */ firestore),\n/* harmony export */   getAllCollections: () => (/* binding */ getAllCollections),\n/* harmony export */   getFirestoreDoc: () => (/* binding */ getFirestoreDoc),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/analytics */ \"firebase/analytics\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__, firebase_auth__WEBPACK_IMPORTED_MODULE_2__, firebase_firestore__WEBPACK_IMPORTED_MODULE_3__, firebase_analytics__WEBPACK_IMPORTED_MODULE_4__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__, firebase_auth__WEBPACK_IMPORTED_MODULE_2__, firebase_firestore__WEBPACK_IMPORTED_MODULE_3__, firebase_analytics__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n\n\n\n// Firebase Config\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAGh9AFmjbVUl-M0uoqr2cqnVcV5T1k5vM\",\n  authDomain: \"tiensapp-92bab.firebaseapp.com\",\n  projectId: \"tiensapp-92bab\",\n  storageBucket: \"tiensapp-92bab.appspot.com\",\n  messagingSenderId: \"736874346462\",\n  appId: \"1:736874346462:web:88c07df6a0e9978e790f4f\"\n};\n\n// Firebase App Initialization\nconst app = !(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.getStorage)(app);\nconst fileStorage = storage; // Eklenen kısım\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getFirestore)(app);\nconst firestore = db; // Bu kısmı ekledik\n\nlet analytics = null;\n\n// Analytics Initialization\nif (false) {}\n\n// Get All Collections and Documents\nasync function getAllCollections() {\n  const collectionNames = [\"collection1\", \"collection2\", \"collection3\"]; // Koleksiyon adlarını manuel olarak listeleyin\n  const collectionList = [];\n  try {\n    for (const collectionName of collectionNames) {\n      const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(db, collectionName));\n      const docsData = querySnapshot.docs.map(doc => _objectSpread({\n        id: doc.id\n      }, doc.data()));\n      collectionList.push({\n        collectionName,\n        docsData\n      });\n    }\n    return collectionList;\n  } catch (error) {\n    console.error(\"Error getting collections: \", error);\n    return [];\n  }\n}\nasync function getFirestoreDoc(collectionName, docId) {\n  const docRef = firestore.collection(collectionName).doc(docId);\n  const doc = await docRef.get();\n  return doc;\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uZmlncy9maXJlYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNEO0FBQ1I7QUFDTjtBQUMrQjtBQUNSOztBQUUvRDtBQUNBLE1BQU1TLGNBQWMsR0FBRztFQUNyQkMsTUFBTSxFQUFFLHlDQUF5QztFQUNqREMsVUFBVSxFQUFFLGdDQUFnQztFQUM1Q0MsU0FBUyxFQUFFLGdCQUFnQjtFQUMzQkMsYUFBYSxFQUFFLDRCQUE0QjtFQUMzQ0MsaUJBQWlCLEVBQUUsY0FBYztFQUNqQ0MsS0FBSyxFQUFFO0FBQ1QsQ0FBQzs7QUFFRDtBQUNPLE1BQU1DLEdBQUcsR0FBRyxDQUFDZixxREFBTyxDQUFDLENBQUMsQ0FBQ2dCLE1BQU0sR0FBR2pCLDJEQUFhLENBQUNTLGNBQWMsQ0FBQyxHQUFHUixxREFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUUsTUFBTWlCLElBQUksR0FBR2Ysc0RBQU8sQ0FBQ2EsR0FBRyxDQUFDO0FBQ3pCLE1BQU1HLE9BQU8sR0FBR2pCLDREQUFVLENBQUNjLEdBQUcsQ0FBQztBQUMvQixNQUFNSSxXQUFXLEdBQUdELE9BQU8sQ0FBQyxDQUFDO0FBQzdCLE1BQU1FLEVBQUUsR0FBR2pCLGdFQUFZLENBQUNZLEdBQUcsQ0FBQztBQUM1QixNQUFNTSxTQUFTLEdBQUdELEVBQUUsQ0FBQyxDQUFDOztBQUV0QixJQUFJRSxTQUFTLEdBQUcsSUFBSTs7QUFFM0I7QUFDQSxJQUFJLE9BQStCLEVBVWxDOztBQUVEO0FBQ08sZUFBZUssaUJBQWlCQSxDQUFBLEVBQUc7RUFDeEMsTUFBTUMsZUFBZSxHQUFHLENBQUMsYUFBYSxFQUFFLGFBQWEsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDO0VBQ3ZFLE1BQU1DLGNBQWMsR0FBRyxFQUFFO0VBRXpCLElBQUk7SUFDRixLQUFLLE1BQU1DLGNBQWMsSUFBSUYsZUFBZSxFQUFFO01BQzVDLE1BQU1HLGFBQWEsR0FBRyxNQUFNMUIsMkRBQU8sQ0FBQ0QsOERBQVUsQ0FBQ2dCLEVBQUUsRUFBRVUsY0FBYyxDQUFDLENBQUM7TUFDbkUsTUFBTUUsUUFBUSxHQUFHRCxhQUFhLENBQUNFLElBQUksQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLElBQUFDLGFBQUE7UUFDMUNDLEVBQUUsRUFBRUYsR0FBRyxDQUFDRTtNQUFFLEdBQ1BGLEdBQUcsQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FDYixDQUFDO01BQ0hULGNBQWMsQ0FBQ1UsSUFBSSxDQUFDO1FBQUVULGNBQWM7UUFBRUU7TUFBUyxDQUFDLENBQUM7SUFDbkQ7SUFDQSxPQUFPSCxjQUFjO0VBQ3ZCLENBQUMsQ0FBQyxPQUFPVyxLQUFLLEVBQUU7SUFDZGhCLE9BQU8sQ0FBQ2dCLEtBQUssQ0FBQyw2QkFBNkIsRUFBRUEsS0FBSyxDQUFDO0lBQ25ELE9BQU8sRUFBRTtFQUNYO0FBQ0Y7QUFDTyxlQUFlQyxlQUFlQSxDQUFDWCxjQUFjLEVBQUVZLEtBQUssRUFBRTtFQUMzRCxNQUFNQyxNQUFNLEdBQUd0QixTQUFTLENBQUNqQixVQUFVLENBQUMwQixjQUFjLENBQUMsQ0FBQ0ssR0FBRyxDQUFDTyxLQUFLLENBQUM7RUFDOUQsTUFBTVAsR0FBRyxHQUFHLE1BQU1RLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDLENBQUM7RUFDOUIsT0FBT1QsR0FBRztBQUNaLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvY29uZmlncy9maXJlYmFzZS5qcz84Y2Y4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XG5pbXBvcnQgeyBnZXRTdG9yYWdlIH0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBjb2xsZWN0aW9uLCBnZXREb2NzIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgZ2V0QW5hbHl0aWNzLCBpc1N1cHBvcnRlZCB9IGZyb20gXCJmaXJlYmFzZS9hbmFseXRpY3NcIjtcblxuLy8gRmlyZWJhc2UgQ29uZmlnXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcbiAgYXBpS2V5OiBcIkFJemFTeUFHaDlBRm1qYlZVbC1NMHVvcXIyY3FuVmNWNVQxazV2TVwiLFxuICBhdXRoRG9tYWluOiBcInRpZW5zYXBwLTkyYmFiLmZpcmViYXNlYXBwLmNvbVwiLFxuICBwcm9qZWN0SWQ6IFwidGllbnNhcHAtOTJiYWJcIixcbiAgc3RvcmFnZUJ1Y2tldDogXCJ0aWVuc2FwcC05MmJhYi5hcHBzcG90LmNvbVwiLFxuICBtZXNzYWdpbmdTZW5kZXJJZDogXCI3MzY4NzQzNDY0NjJcIixcbiAgYXBwSWQ6IFwiMTo3MzY4NzQzNDY0NjI6d2ViOjg4YzA3ZGY2YTBlOTk3OGU3OTBmNGZcIixcbn07XG5cbi8vIEZpcmViYXNlIEFwcCBJbml0aWFsaXphdGlvblxuZXhwb3J0IGNvbnN0IGFwcCA9ICFnZXRBcHBzKCkubGVuZ3RoID8gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZykgOiBnZXRBcHBzKClbMF07XG5leHBvcnQgY29uc3QgYXV0aCA9IGdldEF1dGgoYXBwKTtcbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gZ2V0U3RvcmFnZShhcHApO1xuZXhwb3J0IGNvbnN0IGZpbGVTdG9yYWdlID0gc3RvcmFnZTsgLy8gRWtsZW5lbiBrxLFzxLFtXG5leHBvcnQgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcbmV4cG9ydCBjb25zdCBmaXJlc3RvcmUgPSBkYjsgLy8gQnUga8Sxc23EsSBla2xlZGlrXG5cbmV4cG9ydCBsZXQgYW5hbHl0aWNzID0gbnVsbDtcblxuLy8gQW5hbHl0aWNzIEluaXRpYWxpemF0aW9uXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHN1cHBvcnRlZCA9IGF3YWl0IGlzU3VwcG9ydGVkKCk7XG4gICAgaWYgKHN1cHBvcnRlZCkge1xuICAgICAgYW5hbHl0aWNzID0gZ2V0QW5hbHl0aWNzKGFwcCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlIEFuYWx5dGljcyBpbml0aWFsaXplZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKFwiRmlyZWJhc2UgQW5hbHl0aWNzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudFwiKTtcbiAgICB9XG4gIH0pKCk7XG59XG5cbi8vIEdldCBBbGwgQ29sbGVjdGlvbnMgYW5kIERvY3VtZW50c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbGxlY3Rpb25zKCkge1xuICBjb25zdCBjb2xsZWN0aW9uTmFtZXMgPSBbXCJjb2xsZWN0aW9uMVwiLCBcImNvbGxlY3Rpb24yXCIsIFwiY29sbGVjdGlvbjNcIl07IC8vIEtvbGVrc2l5b24gYWRsYXLEsW7EsSBtYW51ZWwgb2xhcmFrIGxpc3RlbGV5aW5cbiAgY29uc3QgY29sbGVjdGlvbkxpc3QgPSBbXTtcblxuICB0cnkge1xuICAgIGZvciAoY29uc3QgY29sbGVjdGlvbk5hbWUgb2YgY29sbGVjdGlvbk5hbWVzKSB7XG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCBjb2xsZWN0aW9uTmFtZSkpO1xuICAgICAgY29uc3QgZG9jc0RhdGEgPSBxdWVyeVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKCksXG4gICAgICB9KSk7XG4gICAgICBjb2xsZWN0aW9uTGlzdC5wdXNoKHsgY29sbGVjdGlvbk5hbWUsIGRvY3NEYXRhIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbkxpc3Q7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgY29sbGVjdGlvbnM6IFwiLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmlyZXN0b3JlRG9jKGNvbGxlY3Rpb25OYW1lLCBkb2NJZCkge1xuICBjb25zdCBkb2NSZWYgPSBmaXJlc3RvcmUuY29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSkuZG9jKGRvY0lkKTtcbiAgY29uc3QgZG9jID0gYXdhaXQgZG9jUmVmLmdldCgpO1xuICByZXR1cm4gZG9jO1xufSJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldFN0b3JhZ2UiLCJnZXRBdXRoIiwiZ2V0RmlyZXN0b3JlIiwiY29sbGVjdGlvbiIsImdldERvY3MiLCJnZXRBbmFseXRpY3MiLCJpc1N1cHBvcnRlZCIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwiYXBwIiwibGVuZ3RoIiwiYXV0aCIsInN0b3JhZ2UiLCJmaWxlU3RvcmFnZSIsImRiIiwiZmlyZXN0b3JlIiwiYW5hbHl0aWNzIiwic3VwcG9ydGVkIiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJnZXRBbGxDb2xsZWN0aW9ucyIsImNvbGxlY3Rpb25OYW1lcyIsImNvbGxlY3Rpb25MaXN0IiwiY29sbGVjdGlvbk5hbWUiLCJxdWVyeVNuYXBzaG90IiwiZG9jc0RhdGEiLCJkb2NzIiwibWFwIiwiZG9jIiwiX29iamVjdFNwcmVhZCIsImlkIiwiZGF0YSIsInB1c2giLCJlcnJvciIsImdldEZpcmVzdG9yZURvYyIsImRvY0lkIiwiZG9jUmVmIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/configs/firebase.js\n");

/***/ }),

/***/ "(api)/./server/configs/firebaseAdmin.ts":
/*!*****************************************!*\
  !*** ./server/configs/firebaseAdmin.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   firestore: () => (/* binding */ firestore),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin */ \"firebase-admin\");\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!(firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().apps).length) {\n  const serviceAccount = JSON.parse(process.env.FIREBASE_SERVICE_ACCOUNT);\n  firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().initializeApp({\n    credential: firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().credential.cert(serviceAccount)\n  });\n}\nconst storage = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().storage();\nconst firestore = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().firestore();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((firebase_admin__WEBPACK_IMPORTED_MODULE_0___default()));\n\n//-----------------------------------------\n\n//-----------------------------------------\n\n// import admin from \"firebase-admin\";\n\n// if (!admin.apps.length) {\n\n//     const serviceAccount = require(\"./tiensapp-92bab-firebase-adminsdk-lupd3-00e3d555b7.json\");\n\n//     admin.initializeApp({\n//         credential: admin.credential.cert(serviceAccount),\n//         storageBucket: \"tiensapp-92bab.appspot.com\"\n//     });\n// }\n\n// export const storage = admin.storage();\n// export const firestore = admin.firestore();\n\n// export const bucket = admin.storage().bucket(); // Storage işlemleri için Bucket referansı\n\n// export default admin;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uZmlncy9maXJlYmFzZUFkbWluLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1DO0FBRW5DLElBQUksQ0FBQ0EsNERBQVUsQ0FBQ0UsTUFBTSxFQUFFO0VBQ3BCLE1BQU1DLGNBQWMsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBa0MsQ0FBQztFQUVqRlIsbUVBQW1CLENBQUM7SUFDaEJVLFVBQVUsRUFBRVYsZ0VBQWdCLENBQUNXLElBQUksQ0FBQ1IsY0FBYztFQUNwRCxDQUFDLENBQUM7QUFDTjtBQUVPLE1BQU1TLE9BQU8sR0FBR1osNkRBQWEsQ0FBQyxDQUFDO0FBQy9CLE1BQU1hLFNBQVMsR0FBR2IsK0RBQWUsQ0FBQyxDQUFDO0FBRTFDLGlFQUFlQSx1REFBSyxFQUFDOztBQVVyQjs7QUFFQTs7QUFLQTs7QUFFQTs7QUFFQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvY29uZmlncy9maXJlYmFzZUFkbWluLnRzP2QyMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFkbWluIGZyb20gXCJmaXJlYmFzZS1hZG1pblwiO1xuXG5pZiAoIWFkbWluLmFwcHMubGVuZ3RoKSB7XG4gICAgY29uc3Qgc2VydmljZUFjY291bnQgPSBKU09OLnBhcnNlKHByb2Nlc3MuZW52LkZJUkVCQVNFX1NFUlZJQ0VfQUNDT1VOVCBhcyBzdHJpbmcpO1xuXG4gICAgYWRtaW4uaW5pdGlhbGl6ZUFwcCh7XG4gICAgICAgIGNyZWRlbnRpYWw6IGFkbWluLmNyZWRlbnRpYWwuY2VydChzZXJ2aWNlQWNjb3VudCksXG4gICAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gYWRtaW4uc3RvcmFnZSgpO1xuZXhwb3J0IGNvbnN0IGZpcmVzdG9yZSA9IGFkbWluLmZpcmVzdG9yZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBhZG1pbjtcblxuXG5cblxuXG4gIFxuXG5cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuXG5cbi8vIGltcG9ydCBhZG1pbiBmcm9tIFwiZmlyZWJhc2UtYWRtaW5cIjtcblxuLy8gaWYgKCFhZG1pbi5hcHBzLmxlbmd0aCkge1xuXG4vLyAgICAgY29uc3Qgc2VydmljZUFjY291bnQgPSByZXF1aXJlKFwiLi90aWVuc2FwcC05MmJhYi1maXJlYmFzZS1hZG1pbnNkay1sdXBkMy0wMGUzZDU1NWI3Lmpzb25cIik7XG5cblxuXG4vLyAgICAgYWRtaW4uaW5pdGlhbGl6ZUFwcCh7XG4vLyAgICAgICAgIGNyZWRlbnRpYWw6IGFkbWluLmNyZWRlbnRpYWwuY2VydChzZXJ2aWNlQWNjb3VudCksXG4vLyAgICAgICAgIHN0b3JhZ2VCdWNrZXQ6IFwidGllbnNhcHAtOTJiYWIuYXBwc3BvdC5jb21cIlxuLy8gICAgIH0pO1xuLy8gfVxuXG4vLyBleHBvcnQgY29uc3Qgc3RvcmFnZSA9IGFkbWluLnN0b3JhZ2UoKTtcbi8vIGV4cG9ydCBjb25zdCBmaXJlc3RvcmUgPSBhZG1pbi5maXJlc3RvcmUoKTtcblxuLy8gZXhwb3J0IGNvbnN0IGJ1Y2tldCA9IGFkbWluLnN0b3JhZ2UoKS5idWNrZXQoKTsgLy8gU3RvcmFnZSBpxZ9sZW1sZXJpIGnDp2luIEJ1Y2tldCByZWZlcmFuc8SxXG5cblxuLy8gZXhwb3J0IGRlZmF1bHQgYWRtaW47XG5cblxuIl0sIm5hbWVzIjpbImFkbWluIiwiYXBwcyIsImxlbmd0aCIsInNlcnZpY2VBY2NvdW50IiwiSlNPTiIsInBhcnNlIiwicHJvY2VzcyIsImVudiIsIkZJUkVCQVNFX1NFUlZJQ0VfQUNDT1VOVCIsImluaXRpYWxpemVBcHAiLCJjcmVkZW50aWFsIiwiY2VydCIsInN0b3JhZ2UiLCJmaXJlc3RvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/configs/firebaseAdmin.ts\n");

/***/ }),

/***/ "(api)/./server/constant/method.js":
/*!***********************************!*\
  !*** ./server/constant/method.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   METHOD: () => (/* binding */ METHOD)\n/* harmony export */ });\nconst METHOD = {\n  GET: \"GET\",\n  POST: \"POST\",\n  PUT: \"PUT\",\n  DELETE: \"DELETE\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uc3RhbnQvbWV0aG9kLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxNQUFNLEdBQUc7RUFDcEJDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLElBQUksRUFBRSxNQUFNO0VBQ1pDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLE1BQU0sRUFBRTtBQUNWLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvY29uc3RhbnQvbWV0aG9kLmpzPzIwNjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE1FVEhPRCA9IHtcbiAgR0VUOiBcIkdFVFwiLFxuICBQT1NUOiBcIlBPU1RcIixcbiAgUFVUOiBcIlBVVFwiLFxuICBERUxFVEU6IFwiREVMRVRFXCIsXG59O1xuIl0sIm5hbWVzIjpbIk1FVEhPRCIsIkdFVCIsIlBPU1QiLCJQVVQiLCJERUxFVEUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/constant/method.js\n");

/***/ }),

/***/ "(api)/./server/constant/router.js":
/*!***********************************!*\
  !*** ./server/constant/router.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ROUTER: () => (/* binding */ ROUTER)\n/* harmony export */ });\nconst ROUTER = {\n  PRODUCTS: \"/products\",\n  CARD: \"/basket\",\n  ORDER: \"/order\",\n  ORDER_HISTORY: \"/order-history\",\n  UPLOADS: \"/uploads\",\n  RESTUARANTS: \"/restuarants\",\n  RESTUARANTS_ID: rest_id => `/restuarants/${rest_id}`,\n  CATEGORY: \"/category\",\n  CATEGORYVIDEO: \"/categoryVideo\",\n  OFFER: \"/offer\",\n  USERS_HASH_PASSWORD: \"/users-hash-password\",\n  RECORDS: \"/records\",\n  RECORDS_HISTORY: \"/records-history\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uc3RhbnQvcm91dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxNQUFNLEdBQUc7RUFDcEJDLFFBQVEsRUFBRSxXQUFXO0VBQ3JCQyxJQUFJLEVBQUUsU0FBUztFQUNmQyxLQUFLLEVBQUUsUUFBUTtFQUNmQyxhQUFhLEVBQUUsZ0JBQWdCO0VBQy9CQyxPQUFPLEVBQUUsVUFBVTtFQUNuQkMsV0FBVyxFQUFFLGNBQWM7RUFDM0JDLGNBQWMsRUFBR0MsT0FBTyxJQUFNLGdCQUFlQSxPQUFRLEVBQUM7RUFDdERDLFFBQVEsRUFBRSxXQUFXO0VBQ3JCQyxhQUFhLEVBQUUsZ0JBQWdCO0VBQy9CQyxLQUFLLEVBQUUsUUFBUTtFQUNmQyxtQkFBbUIsRUFBRSxzQkFBc0I7RUFDM0NDLE9BQU8sRUFBRSxVQUFVO0VBQ25CQyxlQUFlLEVBQUU7QUFDbkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3NlcnZlci9jb25zdGFudC9yb3V0ZXIuanM/Yjg5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUk9VVEVSID0ge1xuICBQUk9EVUNUUzogXCIvcHJvZHVjdHNcIixcbiAgQ0FSRDogXCIvYmFza2V0XCIsXG4gIE9SREVSOiBcIi9vcmRlclwiLFxuICBPUkRFUl9ISVNUT1JZOiBcIi9vcmRlci1oaXN0b3J5XCIsXG4gIFVQTE9BRFM6IFwiL3VwbG9hZHNcIixcbiAgUkVTVFVBUkFOVFM6IFwiL3Jlc3R1YXJhbnRzXCIsXG4gIFJFU1RVQVJBTlRTX0lEOiAocmVzdF9pZCkgPT4gYC9yZXN0dWFyYW50cy8ke3Jlc3RfaWR9YCxcbiAgQ0FURUdPUlk6IFwiL2NhdGVnb3J5XCIsXG4gIENBVEVHT1JZVklERU86IFwiL2NhdGVnb3J5VmlkZW9cIixcbiAgT0ZGRVI6IFwiL29mZmVyXCIsXG4gIFVTRVJTX0hBU0hfUEFTU1dPUkQ6IFwiL3VzZXJzLWhhc2gtcGFzc3dvcmRcIixcbiAgUkVDT1JEUzogXCIvcmVjb3Jkc1wiLFxuICBSRUNPUkRTX0hJU1RPUlk6IFwiL3JlY29yZHMtaGlzdG9yeVwiLCBcbn07XG4iXSwibmFtZXMiOlsiUk9VVEVSIiwiUFJPRFVDVFMiLCJDQVJEIiwiT1JERVIiLCJPUkRFUl9ISVNUT1JZIiwiVVBMT0FEUyIsIlJFU1RVQVJBTlRTIiwiUkVTVFVBUkFOVFNfSUQiLCJyZXN0X2lkIiwiQ0FURUdPUlkiLCJDQVRFR09SWVZJREVPIiwiT0ZGRVIiLCJVU0VSU19IQVNIX1BBU1NXT1JEIiwiUkVDT1JEUyIsIlJFQ09SRFNfSElTVE9SWSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./server/constant/router.js\n");

/***/ }),

/***/ "(api)/./server/helper/addData.js":
/*!**********************************!*\
  !*** ./server/helper/addData.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addData: () => (/* binding */ addData)\n/* harmony export */ });\n/* harmony import */ var _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configs/firebaseAdmin */ \"(api)/./server/configs/firebaseAdmin.ts\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nasync function addData(col, data) {\n  try {\n    // Add data to the specified collection\n    const docRef = await _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__.firestore.collection(col).add(_objectSpread(_objectSpread({}, data), {}, {\n      created: Date.now()\n    }));\n    const createData = _objectSpread({\n      id: docRef.id\n    }, data);\n    return createData;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n// import { db } from \"configs/firebase\";\n// import { addDoc, collection } from \"firebase/firestore\";\n\n// export async function addData(col, data) {\n//   try {\n//     const ref = collection(db, col);\n//     const doc = await addDoc(ref, data);\n\n//     const createData = {\n//       id: doc.id,\n//       ...data,\n//     };\n\n//     return createData;\n//   } catch (err) {\n//     console.log(err);\n//   }\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvaGVscGVyL2FkZERhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxRDtBQUU5QyxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLEVBQUVDLElBQUksRUFBRTtFQUN2QyxJQUFJO0lBQ0Y7SUFDQSxNQUFNQyxNQUFNLEdBQUcsTUFBTUosNkRBQVMsQ0FDM0JLLFVBQVUsQ0FBQ0gsR0FBRyxDQUFDLENBQ2ZJLEdBQUcsQ0FBQUMsYUFBQSxDQUFBQSxhQUFBLEtBQU1KLElBQUk7TUFBRUssT0FBTyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsQ0FBQztJQUFDLEVBQUUsQ0FBQztJQUV4QyxNQUFNQyxVQUFVLEdBQUFKLGFBQUE7TUFDZEssRUFBRSxFQUFFUixNQUFNLENBQUNRO0lBQUUsR0FDVlQsSUFBSSxDQUNSO0lBRUQsT0FBT1EsVUFBVTtFQUNuQixDQUFDLENBQUMsT0FBT0UsR0FBRyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7RUFDbEI7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvaGVscGVyL2FkZERhdGEuanM/NTViNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaXJlc3RvcmUgfSBmcm9tIFwiLi4vY29uZmlncy9maXJlYmFzZUFkbWluXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGREYXRhKGNvbCwgZGF0YSkge1xuICB0cnkge1xuICAgIC8vIEFkZCBkYXRhIHRvIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlvblxuICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGZpcmVzdG9yZVxuICAgICAgLmNvbGxlY3Rpb24oY29sKVxuICAgICAgLmFkZCh7IC4uLmRhdGEsIGNyZWF0ZWQ6IERhdGUubm93KCkgfSk7XG5cbiAgICBjb25zdCBjcmVhdGVEYXRhID0ge1xuICAgICAgaWQ6IGRvY1JlZi5pZCxcbiAgICAgIC4uLmRhdGEsXG4gICAgfTtcblxuICAgIHJldHVybiBjcmVhdGVEYXRhO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9XG59XG5cbi8vIGltcG9ydCB7IGRiIH0gZnJvbSBcImNvbmZpZ3MvZmlyZWJhc2VcIjtcbi8vIGltcG9ydCB7IGFkZERvYywgY29sbGVjdGlvbiB9IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcblxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZERhdGEoY29sLCBkYXRhKSB7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgcmVmID0gY29sbGVjdGlvbihkYiwgY29sKTtcbi8vICAgICBjb25zdCBkb2MgPSBhd2FpdCBhZGREb2MocmVmLCBkYXRhKTtcblxuLy8gICAgIGNvbnN0IGNyZWF0ZURhdGEgPSB7XG4vLyAgICAgICBpZDogZG9jLmlkLFxuLy8gICAgICAgLi4uZGF0YSxcbi8vICAgICB9O1xuXG4vLyAgICAgcmV0dXJuIGNyZWF0ZURhdGE7XG4vLyAgIH0gY2F0Y2ggKGVycikge1xuLy8gICAgIGNvbnNvbGUubG9nKGVycik7XG4vLyAgIH1cbi8vIH1cbiJdLCJuYW1lcyI6WyJmaXJlc3RvcmUiLCJhZGREYXRhIiwiY29sIiwiZGF0YSIsImRvY1JlZiIsImNvbGxlY3Rpb24iLCJhZGQiLCJfb2JqZWN0U3ByZWFkIiwiY3JlYXRlZCIsIkRhdGUiLCJub3ciLCJjcmVhdGVEYXRhIiwiaWQiLCJlcnIiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/helper/addData.js\n");

/***/ }),

/***/ "(api)/./server/helper/uploadFile.js":
/*!*************************************!*\
  !*** ./server/helper/uploadFile.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uploadFile: () => (/* binding */ uploadFile)\n/* harmony export */ });\n/* harmony import */ var _configs_firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configs/firebase */ \"(api)/./server/configs/firebase.js\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_configs_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__]);\n([_configs_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst uploadFile = async (folder = \"uploads\", file) => {\n  const fileContent = fs__WEBPACK_IMPORTED_MODULE_2___default().readFileSync(file.path);\n\n  // Dosya adını belirle\n  const fileName = file.originalFilename || file.path.split(\"/\").pop();\n\n  // Firebase Storage'a referans oluştur\n  const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.ref)(_configs_firebase__WEBPACK_IMPORTED_MODULE_0__.fileStorage, `${folder}/${fileName}`);\n\n  // Yükleme işlemi\n  const uploadTask = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.uploadBytesResumable)(storageRef, fileContent, {\n    contentType: file.headers[\"content-type\"] || \"application/octet-stream\"\n  });\n  return new Promise((resolve, reject) => {\n    uploadTask.on(\"state_changed\", null,\n    // Progress takibi opsiyonel\n    error => {\n      reject(error);\n    }, async () => {\n      try {\n        const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.getDownloadURL)(uploadTask.snapshot.ref);\n        resolve(downloadURL);\n      } catch (error) {\n        reject(error);\n      }\n    });\n  });\n};\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvaGVscGVyL3VwbG9hZEZpbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDMkI7QUFDekQ7QUFFYixNQUFNSyxVQUFVLEdBQUcsTUFBQUEsQ0FBT0MsTUFBTSxHQUFHLFNBQVMsRUFBRUMsSUFBSSxLQUFLO0VBQzVELE1BQU1DLFdBQVcsR0FBR0osc0RBQWUsQ0FBQ0csSUFBSSxDQUFDRyxJQUFJLENBQUM7O0VBRTlDO0VBQ0EsTUFBTUMsUUFBUSxHQUFHSixJQUFJLENBQUNLLGdCQUFnQixJQUFJTCxJQUFJLENBQUNHLElBQUksQ0FBQ0csS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxHQUFHLENBQUMsQ0FBQzs7RUFFcEU7RUFDQSxNQUFNQyxVQUFVLEdBQUdiLHFEQUFHLENBQUNGLDBEQUFXLEVBQUcsR0FBRU0sTUFBTyxJQUFHSyxRQUFTLEVBQUMsQ0FBQzs7RUFFNUQ7RUFDQSxNQUFNSyxVQUFVLEdBQUdiLHNFQUFvQixDQUFDWSxVQUFVLEVBQUVQLFdBQVcsRUFBRTtJQUMvRFMsV0FBVyxFQUFFVixJQUFJLENBQUNXLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSTtFQUMvQyxDQUFDLENBQUM7RUFFRixPQUFPLElBQUlDLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztJQUN0Q0wsVUFBVSxDQUFDTSxFQUFFLENBQ1gsZUFBZSxFQUNmLElBQUk7SUFBRTtJQUNMQyxLQUFLLElBQUs7TUFDVEYsTUFBTSxDQUFDRSxLQUFLLENBQUM7SUFDZixDQUFDLEVBQ0QsWUFBWTtNQUNWLElBQUk7UUFDRixNQUFNQyxXQUFXLEdBQUcsTUFBTXZCLGdFQUFjLENBQUNlLFVBQVUsQ0FBQ1MsUUFBUSxDQUFDdkIsR0FBRyxDQUFDO1FBQ2pFa0IsT0FBTyxDQUFDSSxXQUFXLENBQUM7TUFDdEIsQ0FBQyxDQUFDLE9BQU9ELEtBQUssRUFBRTtRQUNkRixNQUFNLENBQUNFLEtBQUssQ0FBQztNQUNmO0lBQ0YsQ0FDRixDQUFDO0VBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vZHktYXBwLy4vc2VydmVyL2hlbHBlci91cGxvYWRGaWxlLmpzPzQ2OTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlsZVN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlncy9maXJlYmFzZVwiO1xuaW1wb3J0IHsgZ2V0RG93bmxvYWRVUkwsIHJlZiwgdXBsb2FkQnl0ZXNSZXN1bWFibGUgfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuXG5leHBvcnQgY29uc3QgdXBsb2FkRmlsZSA9IGFzeW5jIChmb2xkZXIgPSBcInVwbG9hZHNcIiwgZmlsZSkgPT4ge1xuICBjb25zdCBmaWxlQ29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLnBhdGgpO1xuXG4gIC8vIERvc3lhIGFkxLFuxLEgYmVsaXJsZVxuICBjb25zdCBmaWxlTmFtZSA9IGZpbGUub3JpZ2luYWxGaWxlbmFtZSB8fCBmaWxlLnBhdGguc3BsaXQoXCIvXCIpLnBvcCgpO1xuXG4gIC8vIEZpcmViYXNlIFN0b3JhZ2UnYSByZWZlcmFucyBvbHXFn3R1clxuICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKGZpbGVTdG9yYWdlLCBgJHtmb2xkZXJ9LyR7ZmlsZU5hbWV9YCk7XG5cbiAgLy8gWcO8a2xlbWUgacWfbGVtaVxuICBjb25zdCB1cGxvYWRUYXNrID0gdXBsb2FkQnl0ZXNSZXN1bWFibGUoc3RvcmFnZVJlZiwgZmlsZUNvbnRlbnQsIHtcbiAgICBjb250ZW50VHlwZTogZmlsZS5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdXBsb2FkVGFzay5vbihcbiAgICAgIFwic3RhdGVfY2hhbmdlZFwiLFxuICAgICAgbnVsbCwgLy8gUHJvZ3Jlc3MgdGFraWJpIG9wc2l5b25lbFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9LFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRvd25sb2FkVVJMID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwodXBsb2FkVGFzay5zbmFwc2hvdC5yZWYpO1xuICAgICAgICAgIHJlc29sdmUoZG93bmxvYWRVUkwpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOlsiZmlsZVN0b3JhZ2UiLCJnZXREb3dubG9hZFVSTCIsInJlZiIsInVwbG9hZEJ5dGVzUmVzdW1hYmxlIiwiZnMiLCJ1cGxvYWRGaWxlIiwiZm9sZGVyIiwiZmlsZSIsImZpbGVDb250ZW50IiwicmVhZEZpbGVTeW5jIiwicGF0aCIsImZpbGVOYW1lIiwib3JpZ2luYWxGaWxlbmFtZSIsInNwbGl0IiwicG9wIiwic3RvcmFnZVJlZiIsInVwbG9hZFRhc2siLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9uIiwiZXJyb3IiLCJkb3dubG9hZFVSTCIsInNuYXBzaG90Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/helper/uploadFile.js\n");

/***/ }),

/***/ "(api)/./server/routes/uploads.js":
/*!**********************************!*\
  !*** ./server/routes/uploads.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handlerGetAllVideos: () => (/* binding */ handlerGetAllVideos),\n/* harmony export */   handlerGetFileURL: () => (/* binding */ handlerGetFileURL),\n/* harmony export */   handlerGetVideosCollection: () => (/* binding */ handlerGetVideosCollection),\n/* harmony export */   handlerUploadPOST: () => (/* binding */ handlerUploadPOST)\n/* harmony export */ });\n/* harmony import */ var _helper_uploadFile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helper/uploadFile */ \"(api)/./server/helper/uploadFile.js\");\n/* harmony import */ var _utils_parseForm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/parseForm */ \"(api)/./server/utils/parseForm.js\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var _configs_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../configs/firebase */ \"(api)/./server/configs/firebase.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var _helper_addData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helper/addData */ \"(api)/./server/helper/addData.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_helper_uploadFile__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_2__, _configs_firebase__WEBPACK_IMPORTED_MODULE_3__, firebase_firestore__WEBPACK_IMPORTED_MODULE_4__, uuid__WEBPACK_IMPORTED_MODULE_5__]);\n([_helper_uploadFile__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_2__, _configs_firebase__WEBPACK_IMPORTED_MODULE_3__, firebase_firestore__WEBPACK_IMPORTED_MODULE_4__, uuid__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n // Firebase yapılandırmanızın yolu\n\n // Firestore yapılandırmasının doğru yolu\n\n\n\nasync function handlerUploadPOST(req, res, folder) {\n  try {\n    const form = await (0,_utils_parseForm__WEBPACK_IMPORTED_MODULE_1__.parseForm)(req);\n    const {\n      video,\n      coverImage\n    } = form.files;\n    const {\n      categoryId\n    } = form.fields;\n    if (!video || !coverImage || !categoryId) {\n      res.status(400).json({\n        error: \"Video, cover image, and category ID are required\"\n      });\n      return;\n    }\n    const id = (0,uuid__WEBPACK_IMPORTED_MODULE_5__.v4)();\n    const uploadedVideo = video[0];\n    const uploadedCoverImage = coverImage[0];\n    const videoUrl = await (0,_helper_uploadFile__WEBPACK_IMPORTED_MODULE_0__.uploadFile)(`${folder}/videos/${id}`, uploadedVideo);\n    const coverImageUrl = await (0,_helper_uploadFile__WEBPACK_IMPORTED_MODULE_0__.uploadFile)(`${folder}/covers/${id}`, uploadedCoverImage);\n    const videoData = {\n      id,\n      videoUrl,\n      coverImageUrl,\n      categoryId: categoryId[0],\n      // Form field returns an array, take first value\n      createdAt: new Date().toISOString()\n    };\n    await (0,_helper_addData__WEBPACK_IMPORTED_MODULE_6__.addData)(\"videos\", videoData); // Firestore'da video bilgisini sakla\n    res.status(201).json({\n      message: \"Upload successful\",\n      data: videoData\n    });\n  } catch (error) {\n    console.error(\"Error uploading files:\", error);\n    res.status(500).json({\n      error: \"Something went wrong\"\n    });\n  }\n}\nasync function handlerGetVideosCollection(req, res) {\n  try {\n    const videosCollectionRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_configs_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"videos\"); // 'videos' koleksiyonuna referans alın\n\n    const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(videosCollectionRef); // Tüm belgeleri alın\n    const videoList = snapshot.docs.map(doc => _objectSpread({\n      id: doc.id\n    }, doc.data()));\n    res.status(200).json({\n      videoList\n    }); // Video listesini döndür\n  } catch (error) {\n    console.error(\"Error fetching videos from Firestore:\", error);\n    res.status(500).json({\n      error: \"Something went wrong while fetching videos\"\n    });\n  }\n}\n\n// export async function handlerUploadPOST(req, res, folder) {\n//   try {\n//     const form = await parseForm(req);\n\n//     const { file } = form.files;\n\n//     if (!file || file.length === 0) {\n//       res.status(400).json({ error: \"No file provided\" });\n//       return;\n//     }\n\n//     const uploadedFile = file[0];\n//     const fileUrl = await uploadFile(folder, uploadedFile);\n\n//     res.status(201).json({ fileUrl });\n//   } catch (error) {\n//     console.error(\"File upload error:\", error);\n//     res.status(500).json({ error: \"Something went wrong\" });\n//   }\n// }\n\n// export async function handlerUploadPOST(req, res, folder) {\n//   try {\n//     const form = await parseForm(req);\n\n//     const { video, coverImage } = form.files;\n\n//     if (!video || video.length === 0 || !coverImage || coverImage.length === 0) {\n//       res.status(400).json({ error: \"Video or cover image is missing\" });\n//       return;\n//     }\n\n//     const uploadedVideo = video[0];\n//     const videoUrl = await uploadFile(folder, uploadedVideo);\n\n//     const uploadedCoverImage = coverImage[0];\n//     const coverImageUrl = await uploadFile(folder, uploadedCoverImage);\n\n//     res.status(201).json({ videoUrl, coverImageUrl });\n//   } catch (error) {\n//     console.error(\"File upload error:\", error);\n//     res.status(500).json({ error: \"Something went wrong\" });\n//   }\n// }\n\nasync function handlerGetAllVideos(req, res, folder) {\n  try {\n    const videoFolderRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(_configs_firebase__WEBPACK_IMPORTED_MODULE_3__.storage, \"uploads/videos\");\n    const coverFolderRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(_configs_firebase__WEBPACK_IMPORTED_MODULE_3__.storage, \"uploads/covers\");\n    const [videoFolders, coverFolders] = await Promise.all([(0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.listAll)(videoFolderRef), (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.listAll)(coverFolderRef)]);\n    const mediaList = await Promise.all(videoFolders.prefixes.map(async videoFolder => {\n      const videoFolderName = videoFolder.name;\n      const videoFiles = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.listAll)(videoFolder);\n      const videos = await Promise.all(videoFiles.items.map(async video => ({\n        videoName: video.name,\n        videoUrl: await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getDownloadURL)(video)\n      })));\n      const correspondingCoverFolder = coverFolders.prefixes.find(coverFolder => coverFolder.name === videoFolderName);\n      const covers = correspondingCoverFolder ? await Promise.all((await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.listAll)(correspondingCoverFolder)).items.map(async coverFile => ({\n        coverName: coverFile.name,\n        coverImageUrl: await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getDownloadURL)(coverFile)\n      }))) : [];\n      return {\n        id: videoFolderName,\n        videos,\n        covers\n      };\n    }));\n    res.status(200).json({\n      mediaList\n    });\n  } catch (error) {\n    console.error(\"Error fetching media list:\", error);\n    res.status(500).json({\n      error: \"Something went wrong\"\n    });\n  }\n}\nasync function handlerGetFileURL(req, res, folder, fileName) {\n  try {\n    if (!folder || !fileName) {\n      res.status(400).json({\n        error: \"Folder or fileName is missing\"\n      });\n      return;\n    }\n    const videoRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(_configs_firebase__WEBPACK_IMPORTED_MODULE_3__.storage, `${folder}/${fileName}`);\n    const videoUrl = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getDownloadURL)(videoRef);\n    const coverName = fileName.replace(/\\.(mp4|avi|mkv)$/, \".jpg\");\n    const coverRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(_configs_firebase__WEBPACK_IMPORTED_MODULE_3__.storage, `${folder}/${coverName}`);\n    let coverUrl = null;\n    try {\n      coverUrl = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getDownloadURL)(coverRef);\n    } catch {}\n    res.status(200).json({\n      videoUrl,\n      coverUrl\n    });\n  } catch (error) {\n    console.error(\"Error fetching file URL:\", error);\n    res.status(500).json({\n      error: \"Something went wrong\"\n    });\n  }\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVwbG9hZEZpbGUgfSBmcm9tIFwiLi4vaGVscGVyL3VwbG9hZEZpbGVcIjtcbmltcG9ydCB7IHBhcnNlRm9ybSB9IGZyb20gXCIuLi91dGlscy9wYXJzZUZvcm1cIjtcbmltcG9ydCB7bGlzdEFsbCwgZ2V0RG93bmxvYWRVUkwsIHJlZiB9IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcIi4uL2NvbmZpZ3MvZmlyZWJhc2VcIjsgLy8gRmlyZWJhc2UgeWFwxLFsYW5kxLFybWFuxLF6xLFuIHlvbHVcbmltcG9ydCB7IGNvbGxlY3Rpb24sIGdldERvY3MgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5pbXBvcnQgeyBkYiB9IGZyb20gXCIuLi9jb25maWdzL2ZpcmViYXNlXCI7IC8vIEZpcmVzdG9yZSB5YXDEsWxhbmTEsXJtYXPEsW7EsW4gZG/En3J1IHlvbHVcblxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IGFkZERhdGEgfSBmcm9tIFwiLi4vaGVscGVyL2FkZERhdGFcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXJVcGxvYWRQT1NUKHJlcSwgcmVzLCBmb2xkZXIpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmb3JtID0gYXdhaXQgcGFyc2VGb3JtKHJlcSk7XG4gICAgY29uc3QgeyB2aWRlbywgY292ZXJJbWFnZSB9ID0gZm9ybS5maWxlcztcbiAgICBjb25zdCB7IGNhdGVnb3J5SWQgfSA9IGZvcm0uZmllbGRzO1xuXG4gICAgaWYgKCF2aWRlbyB8fCAhY292ZXJJbWFnZSB8fCAhY2F0ZWdvcnlJZCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJWaWRlbywgY292ZXIgaW1hZ2UsIGFuZCBjYXRlZ29yeSBJRCBhcmUgcmVxdWlyZWRcIiB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xuICAgIGNvbnN0IHVwbG9hZGVkVmlkZW8gPSB2aWRlb1swXTtcbiAgICBjb25zdCB1cGxvYWRlZENvdmVySW1hZ2UgPSBjb3ZlckltYWdlWzBdO1xuXG4gICAgY29uc3QgdmlkZW9VcmwgPSBhd2FpdCB1cGxvYWRGaWxlKGAke2ZvbGRlcn0vdmlkZW9zLyR7aWR9YCwgdXBsb2FkZWRWaWRlbyk7XG4gICAgY29uc3QgY292ZXJJbWFnZVVybCA9IGF3YWl0IHVwbG9hZEZpbGUoYCR7Zm9sZGVyfS9jb3ZlcnMvJHtpZH1gLCB1cGxvYWRlZENvdmVySW1hZ2UpO1xuXG4gICAgY29uc3QgdmlkZW9EYXRhID0ge1xuICAgICAgaWQsXG4gICAgICB2aWRlb1VybCxcbiAgICAgIGNvdmVySW1hZ2VVcmwsXG4gICAgICBjYXRlZ29yeUlkOiBjYXRlZ29yeUlkWzBdLCAvLyBGb3JtIGZpZWxkIHJldHVybnMgYW4gYXJyYXksIHRha2UgZmlyc3QgdmFsdWVcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG5cbiAgICBhd2FpdCBhZGREYXRhKFwidmlkZW9zXCIsIHZpZGVvRGF0YSk7IC8vIEZpcmVzdG9yZSdkYSB2aWRlbyBiaWxnaXNpbmkgc2FrbGFcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6IFwiVXBsb2FkIHN1Y2Nlc3NmdWxcIiwgZGF0YTogdmlkZW9EYXRhIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGxvYWRpbmcgZmlsZXM6XCIsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIgfSk7XG4gIH1cbn1cblxuXG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXJHZXRWaWRlb3NDb2xsZWN0aW9uKHJlcSwgcmVzKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmlkZW9zQ29sbGVjdGlvblJlZiA9IGNvbGxlY3Rpb24oZGIsIFwidmlkZW9zXCIpOyAvLyAndmlkZW9zJyBrb2xla3NpeW9udW5hIHJlZmVyYW5zIGFsxLFuXG5cbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3ModmlkZW9zQ29sbGVjdGlvblJlZik7IC8vIFTDvG0gYmVsZ2VsZXJpIGFsxLFuXG4gICAgY29uc3QgdmlkZW9MaXN0ID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcbiAgICAgIGlkOiBkb2MuaWQsIC8vIEJlbGdlIGtpbWxpxJ9pXG4gICAgICAuLi5kb2MuZGF0YSgpLCAvLyBCZWxnZSB2ZXJpbGVyaVxuICAgIH0pKTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdmlkZW9MaXN0IH0pOyAvLyBWaWRlbyBsaXN0ZXNpbmkgZMO2bmTDvHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdmlkZW9zIGZyb20gRmlyZXN0b3JlOlwiLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBmZXRjaGluZyB2aWRlb3NcIiB9KTtcbiAgfVxufVxuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlclVwbG9hZFBPU1QocmVxLCByZXMsIGZvbGRlcikge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IGZvcm0gPSBhd2FpdCBwYXJzZUZvcm0ocmVxKTtcblxuLy8gICAgIGNvbnN0IHsgZmlsZSB9ID0gZm9ybS5maWxlcztcblxuLy8gICAgIGlmICghZmlsZSB8fCBmaWxlLmxlbmd0aCA9PT0gMCkge1xuLy8gICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJObyBmaWxlIHByb3ZpZGVkXCIgfSk7XG4vLyAgICAgICByZXR1cm47XG4vLyAgICAgfVxuXG5cbi8vICAgICBjb25zdCB1cGxvYWRlZEZpbGUgPSBmaWxlWzBdO1xuLy8gICAgIGNvbnN0IGZpbGVVcmwgPSBhd2FpdCB1cGxvYWRGaWxlKGZvbGRlciwgdXBsb2FkZWRGaWxlKTtcblxuLy8gICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZmlsZVVybCB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKFwiRmlsZSB1cGxvYWQgZXJyb3I6XCIsIGVycm9yKTtcbi8vICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIgfSk7XG4vLyAgIH1cbi8vIH1cblxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXJVcGxvYWRQT1NUKHJlcSwgcmVzLCBmb2xkZXIpIHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCBmb3JtID0gYXdhaXQgcGFyc2VGb3JtKHJlcSk7XG5cbi8vICAgICBjb25zdCB7IHZpZGVvLCBjb3ZlckltYWdlIH0gPSBmb3JtLmZpbGVzO1xuXG4vLyAgICAgaWYgKCF2aWRlbyB8fCB2aWRlby5sZW5ndGggPT09IDAgfHwgIWNvdmVySW1hZ2UgfHwgY292ZXJJbWFnZS5sZW5ndGggPT09IDApIHtcbi8vICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiVmlkZW8gb3IgY292ZXIgaW1hZ2UgaXMgbWlzc2luZ1wiIH0pO1xuLy8gICAgICAgcmV0dXJuO1xuLy8gICAgIH1cblxuXG4vLyAgICAgY29uc3QgdXBsb2FkZWRWaWRlbyA9IHZpZGVvWzBdO1xuLy8gICAgIGNvbnN0IHZpZGVvVXJsID0gYXdhaXQgdXBsb2FkRmlsZShmb2xkZXIsIHVwbG9hZGVkVmlkZW8pO1xuXG5cbi8vICAgICBjb25zdCB1cGxvYWRlZENvdmVySW1hZ2UgPSBjb3ZlckltYWdlWzBdO1xuLy8gICAgIGNvbnN0IGNvdmVySW1hZ2VVcmwgPSBhd2FpdCB1cGxvYWRGaWxlKGZvbGRlciwgdXBsb2FkZWRDb3ZlckltYWdlKTtcblxuLy8gICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgdmlkZW9VcmwsIGNvdmVySW1hZ2VVcmwgfSk7XG4vLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgY29uc29sZS5lcnJvcihcIkZpbGUgdXBsb2FkIGVycm9yOlwiLCBlcnJvcik7XG4vLyAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiIH0pO1xuLy8gICB9XG4vLyB9XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXJHZXRBbGxWaWRlb3MocmVxLCByZXMsIGZvbGRlcikge1xuICB0cnkge1xuICAgIGNvbnN0IHZpZGVvRm9sZGVyUmVmID0gcmVmKHN0b3JhZ2UsIFwidXBsb2Fkcy92aWRlb3NcIik7XG4gICAgY29uc3QgY292ZXJGb2xkZXJSZWYgPSByZWYoc3RvcmFnZSwgXCJ1cGxvYWRzL2NvdmVyc1wiKTtcblxuICAgIGNvbnN0IFt2aWRlb0ZvbGRlcnMsIGNvdmVyRm9sZGVyc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBsaXN0QWxsKHZpZGVvRm9sZGVyUmVmKSxcbiAgICAgIGxpc3RBbGwoY292ZXJGb2xkZXJSZWYpLFxuICAgIF0pO1xuXG4gICAgY29uc3QgbWVkaWFMaXN0ID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICB2aWRlb0ZvbGRlcnMucHJlZml4ZXMubWFwKGFzeW5jICh2aWRlb0ZvbGRlcikgPT4ge1xuICAgICAgICBjb25zdCB2aWRlb0ZvbGRlck5hbWUgPSB2aWRlb0ZvbGRlci5uYW1lO1xuXG4gICAgICAgIGNvbnN0IHZpZGVvRmlsZXMgPSBhd2FpdCBsaXN0QWxsKHZpZGVvRm9sZGVyKTtcbiAgICAgICAgY29uc3QgdmlkZW9zID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgdmlkZW9GaWxlcy5pdGVtcy5tYXAoYXN5bmMgKHZpZGVvKSA9PiAoe1xuICAgICAgICAgICAgdmlkZW9OYW1lOiB2aWRlby5uYW1lLFxuICAgICAgICAgICAgdmlkZW9Vcmw6IGF3YWl0IGdldERvd25sb2FkVVJMKHZpZGVvKSxcbiAgICAgICAgICB9KSlcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjb3JyZXNwb25kaW5nQ292ZXJGb2xkZXIgPSBjb3ZlckZvbGRlcnMucHJlZml4ZXMuZmluZChcbiAgICAgICAgICAoY292ZXJGb2xkZXIpID0+IGNvdmVyRm9sZGVyLm5hbWUgPT09IHZpZGVvRm9sZGVyTmFtZVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNvdmVycyA9IGNvcnJlc3BvbmRpbmdDb3ZlckZvbGRlclxuICAgICAgICAgID8gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgIChhd2FpdCBsaXN0QWxsKGNvcnJlc3BvbmRpbmdDb3ZlckZvbGRlcikpLml0ZW1zLm1hcChhc3luYyAoY292ZXJGaWxlKSA9PiAoe1xuICAgICAgICAgICAgICAgIGNvdmVyTmFtZTogY292ZXJGaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgY292ZXJJbWFnZVVybDogYXdhaXQgZ2V0RG93bmxvYWRVUkwoY292ZXJGaWxlKSxcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBbXTtcblxuICAgICAgICByZXR1cm4geyBpZDogdmlkZW9Gb2xkZXJOYW1lLCB2aWRlb3MsIGNvdmVycyB9O1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZWRpYUxpc3QgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIG1lZGlhIGxpc3Q6XCIsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIgfSk7XG4gIH1cbn1cblxuXG5cblxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyR2V0RmlsZVVSTChyZXEsIHJlcywgZm9sZGVyLCBmaWxlTmFtZSkge1xuICB0cnkge1xuICAgIGlmICghZm9sZGVyIHx8ICFmaWxlTmFtZSkge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJGb2xkZXIgb3IgZmlsZU5hbWUgaXMgbWlzc2luZ1wiIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZGVvUmVmID0gcmVmKHN0b3JhZ2UsIGAke2ZvbGRlcn0vJHtmaWxlTmFtZX1gKTtcbiAgICBjb25zdCB2aWRlb1VybCA9IGF3YWl0IGdldERvd25sb2FkVVJMKHZpZGVvUmVmKTtcblxuICAgIGNvbnN0IGNvdmVyTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoL1xcLihtcDR8YXZpfG1rdikkLywgXCIuanBnXCIpO1xuICAgIGNvbnN0IGNvdmVyUmVmID0gcmVmKHN0b3JhZ2UsIGAke2ZvbGRlcn0vJHtjb3Zlck5hbWV9YCk7XG4gICAgbGV0IGNvdmVyVXJsID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBjb3ZlclVybCA9IGF3YWl0IGdldERvd25sb2FkVVJMKGNvdmVyUmVmKTtcbiAgICB9IGNhdGNoIHtcbiAgIFxuICAgIH1cblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdmlkZW9VcmwsIGNvdmVyVXJsIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBmaWxlIFVSTDpcIiwgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIiB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJ1cGxvYWRGaWxlIiwicGFyc2VGb3JtIiwibGlzdEFsbCIsImdldERvd25sb2FkVVJMIiwicmVmIiwic3RvcmFnZSIsImNvbGxlY3Rpb24iLCJnZXREb2NzIiwiZGIiLCJ2NCIsInV1aWR2NCIsImFkZERhdGEiLCJoYW5kbGVyVXBsb2FkUE9TVCIsInJlcSIsInJlcyIsImZvbGRlciIsImZvcm0iLCJ2aWRlbyIsImNvdmVySW1hZ2UiLCJmaWxlcyIsImNhdGVnb3J5SWQiLCJmaWVsZHMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJpZCIsInVwbG9hZGVkVmlkZW8iLCJ1cGxvYWRlZENvdmVySW1hZ2UiLCJ2aWRlb1VybCIsImNvdmVySW1hZ2VVcmwiLCJ2aWRlb0RhdGEiLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJtZXNzYWdlIiwiZGF0YSIsImNvbnNvbGUiLCJoYW5kbGVyR2V0VmlkZW9zQ29sbGVjdGlvbiIsInZpZGVvc0NvbGxlY3Rpb25SZWYiLCJzbmFwc2hvdCIsInZpZGVvTGlzdCIsImRvY3MiLCJtYXAiLCJkb2MiLCJfb2JqZWN0U3ByZWFkIiwiaGFuZGxlckdldEFsbFZpZGVvcyIsInZpZGVvRm9sZGVyUmVmIiwiY292ZXJGb2xkZXJSZWYiLCJ2aWRlb0ZvbGRlcnMiLCJjb3ZlckZvbGRlcnMiLCJQcm9taXNlIiwiYWxsIiwibWVkaWFMaXN0IiwicHJlZml4ZXMiLCJ2aWRlb0ZvbGRlciIsInZpZGVvRm9sZGVyTmFtZSIsIm5hbWUiLCJ2aWRlb0ZpbGVzIiwidmlkZW9zIiwiaXRlbXMiLCJ2aWRlb05hbWUiLCJjb3JyZXNwb25kaW5nQ292ZXJGb2xkZXIiLCJmaW5kIiwiY292ZXJGb2xkZXIiLCJjb3ZlcnMiLCJjb3ZlckZpbGUiLCJjb3Zlck5hbWUiLCJoYW5kbGVyR2V0RmlsZVVSTCIsImZpbGVOYW1lIiwidmlkZW9SZWYiLCJyZXBsYWNlIiwiY292ZXJSZWYiLCJjb3ZlclVybCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./server/routes/uploads.js\n");

/***/ }),

/***/ "(api)/./server/utils/parseForm.js":
/*!***********************************!*\
  !*** ./server/utils/parseForm.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseForm: () => (/* binding */ parseForm)\n/* harmony export */ });\n/* harmony import */ var multiparty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multiparty */ \"multiparty\");\n/* harmony import */ var multiparty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(multiparty__WEBPACK_IMPORTED_MODULE_0__);\n\nconst parseForm = async req => {\n  return new Promise((resolve, reject) => {\n    const form = new (multiparty__WEBPACK_IMPORTED_MODULE_0___default().Form)();\n    form.parse(req, (err, fields, files) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve({\n          fields,\n          files\n        });\n      }\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvdXRpbHMvcGFyc2VGb3JtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQztBQUU3QixNQUFNQyxTQUFTLEdBQUcsTUFBT0MsR0FBRyxJQUFLO0VBQ3RDLE9BQU8sSUFBSUMsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRUMsTUFBTSxLQUFLO0lBQ3RDLE1BQU1DLElBQUksR0FBRyxJQUFJTix3REFBZSxDQUFDLENBQUM7SUFFbENNLElBQUksQ0FBQ0UsS0FBSyxDQUFDTixHQUFHLEVBQUUsQ0FBQ08sR0FBRyxFQUFFQyxNQUFNLEVBQUVDLEtBQUssS0FBSztNQUN0QyxJQUFJRixHQUFHLEVBQUU7UUFDUEosTUFBTSxDQUFDSSxHQUFHLENBQUM7TUFDYixDQUFDLE1BQU07UUFDTEwsT0FBTyxDQUFDO1VBQUVNLE1BQU07VUFBRUM7UUFBTSxDQUFDLENBQUM7TUFDNUI7SUFDRixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vZHktYXBwLy4vc2VydmVyL3V0aWxzL3BhcnNlRm9ybS5qcz9iNmFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtdWx0aXBhcnR5IGZyb20gXCJtdWx0aXBhcnR5XCI7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUZvcm0gPSBhc3luYyAocmVxKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IG5ldyBtdWx0aXBhcnR5LkZvcm0oKTtcblxuICAgIGZvcm0ucGFyc2UocmVxLCAoZXJyLCBmaWVsZHMsIGZpbGVzKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSh7IGZpZWxkcywgZmlsZXMgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6WyJtdWx0aXBhcnR5IiwicGFyc2VGb3JtIiwicmVxIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmb3JtIiwiRm9ybSIsInBhcnNlIiwiZXJyIiwiZmllbGRzIiwiZmlsZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/utils/parseForm.js\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuploads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuploads%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuploads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuploads%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_uploads_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\uploads\\index.js */ \"(api)/./pages/api/uploads/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_uploads_index_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_uploads_index_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_uploads_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_uploads_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/uploads\",\n        pathname: \"/api/uploads\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_uploads_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVwbG9hZHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3VwbG9hZHMlNUNpbmRleC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM0RDtBQUM1RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsd0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8/M2UyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHVwbG9hZHNcXFxcaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91cGxvYWRzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXBsb2Fkc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuploads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuploads%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuploads&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cuploads%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();