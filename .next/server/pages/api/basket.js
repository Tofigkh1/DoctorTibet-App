"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/basket";
exports.ids = ["pages/api/basket"];
exports.modules = {

/***/ "firebase-admin":
/*!*********************************!*\
  !*** external "firebase-admin" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("firebase-admin");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "firebase-admin/firestore":
/*!*******************************************!*\
  !*** external "firebase-admin/firestore" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/firestore");;

/***/ }),

/***/ "(api)/./pages/api/basket/index.js":
/*!***********************************!*\
  !*** ./pages/api/basket/index.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _server_constant_method__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../server/constant/method */ \"(api)/./server/constant/method.js\");\n/* harmony import */ var _server_constant_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../server/constant/router */ \"(api)/./server/constant/router.js\");\n/* harmony import */ var _server_routes_basket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../server/routes/basket */ \"(api)/./server/routes/basket.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_server_routes_basket__WEBPACK_IMPORTED_MODULE_2__]);\n_server_routes_basket__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function handler(req, res) {\n  console.log(req.body);\n  // Set CORS headers to allow requests from any origin\n  res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n\n  // Set other CORS headers as needed (e.g., methods, headers, etc.)\n  res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\n  res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n  switch (req.method) {\n    case _server_constant_method__WEBPACK_IMPORTED_MODULE_0__.METHOD.GET:\n      await (0,_server_routes_basket__WEBPACK_IMPORTED_MODULE_2__.handlerAddProductCardGET)(req, res, _server_constant_router__WEBPACK_IMPORTED_MODULE_1__.ROUTER.CARD);\n      return;\n    default:\n      res.status(405).end();\n  }\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYmFza2V0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBeUQ7QUFDQTtBQUNnQjtBQUUxRCxlQUFlRyxPQUFPQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUM5Q0MsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO0VBQ3JCO0VBQ0FILEdBQUcsQ0FBQ0ksU0FBUyxDQUFDLDZCQUE2QixFQUFFLEdBQUcsQ0FBQzs7RUFFakQ7RUFDQUosR0FBRyxDQUFDSSxTQUFTLENBQUMsOEJBQThCLEVBQUUsd0JBQXdCLENBQUM7RUFDdkVKLEdBQUcsQ0FBQ0ksU0FBUyxDQUFDLDhCQUE4QixFQUFFLGNBQWMsQ0FBQztFQUU3RCxRQUFRTCxHQUFHLENBQUNNLE1BQU07SUFDaEIsS0FBS1YsMkRBQU0sQ0FBQ1csR0FBRztNQUNiLE1BQU1ULCtFQUF3QixDQUFDRSxHQUFHLEVBQUVDLEdBQUcsRUFBRUosMkRBQU0sQ0FBQ1csSUFBSSxDQUFDO01BQ3JEO0lBQ0Y7TUFDRVAsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLEdBQUcsQ0FBQyxDQUFDO0VBQ3pCO0FBQ0YsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3BhZ2VzL2FwaS9iYXNrZXQvaW5kZXguanM/YjY1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNRVRIT0QgfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL2NvbnN0YW50L21ldGhvZFwiO1xuaW1wb3J0IHsgUk9VVEVSIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZlci9jb25zdGFudC9yb3V0ZXJcIjtcbmltcG9ydCB7IGhhbmRsZXJBZGRQcm9kdWN0Q2FyZEdFVCB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvcm91dGVzL2Jhc2tldFwiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbiAgLy8gU2V0IENPUlMgaGVhZGVycyB0byBhbGxvdyByZXF1ZXN0cyBmcm9tIGFueSBvcmlnaW5cbiAgcmVzLnNldEhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLCBcIipcIik7XG5cbiAgLy8gU2V0IG90aGVyIENPUlMgaGVhZGVycyBhcyBuZWVkZWQgKGUuZy4sIG1ldGhvZHMsIGhlYWRlcnMsIGV0Yy4pXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULCBQT1NULCBQVVQsIERFTEVURVwiKTtcbiAgcmVzLnNldEhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIiwgXCJDb250ZW50LVR5cGVcIik7XG5cbiAgc3dpdGNoIChyZXEubWV0aG9kKSB7XG4gICAgY2FzZSBNRVRIT0QuR0VUOlxuICAgICAgYXdhaXQgaGFuZGxlckFkZFByb2R1Y3RDYXJkR0VUKHJlcSwgcmVzLCBST1VURVIuQ0FSRCk7XG4gICAgICByZXR1cm47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk1FVEhPRCIsIlJPVVRFUiIsImhhbmRsZXJBZGRQcm9kdWN0Q2FyZEdFVCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInNldEhlYWRlciIsIm1ldGhvZCIsIkdFVCIsIkNBUkQiLCJzdGF0dXMiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/basket/index.js\n");

/***/ }),

/***/ "(api)/./server/configs/firebaseAdmin.ts":
/*!*****************************************!*\
  !*** ./server/configs/firebaseAdmin.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   firestore: () => (/* binding */ firestore),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin */ \"firebase-admin\");\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!(firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().apps).length) {\n  const serviceAccount = JSON.parse(process.env.FIREBASE_SERVICE_ACCOUNT);\n  firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().initializeApp({\n    credential: firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().credential.cert(serviceAccount)\n  });\n}\nconst storage = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().storage();\nconst firestore = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().firestore();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((firebase_admin__WEBPACK_IMPORTED_MODULE_0___default()));\n\n//-----------------------------------------\n\n//-----------------------------------------\n\n// import admin from \"firebase-admin\";\n\n// if (!admin.apps.length) {\n\n//     const serviceAccount = require(\"./tiensapp-92bab-firebase-adminsdk-lupd3-00e3d555b7.json\");\n\n//     admin.initializeApp({\n//         credential: admin.credential.cert(serviceAccount),\n//         storageBucket: \"tiensapp-92bab.appspot.com\"\n//     });\n// }\n\n// export const storage = admin.storage();\n// export const firestore = admin.firestore();\n\n// export const bucket = admin.storage().bucket(); // Storage işlemleri için Bucket referansı\n\n// export default admin;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uZmlncy9maXJlYmFzZUFkbWluLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1DO0FBRW5DLElBQUksQ0FBQ0EsNERBQVUsQ0FBQ0UsTUFBTSxFQUFFO0VBQ3BCLE1BQU1DLGNBQWMsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBa0MsQ0FBQztFQUVqRlIsbUVBQW1CLENBQUM7SUFDaEJVLFVBQVUsRUFBRVYsZ0VBQWdCLENBQUNXLElBQUksQ0FBQ1IsY0FBYztFQUNwRCxDQUFDLENBQUM7QUFDTjtBQUVPLE1BQU1TLE9BQU8sR0FBR1osNkRBQWEsQ0FBQyxDQUFDO0FBQy9CLE1BQU1hLFNBQVMsR0FBR2IsK0RBQWUsQ0FBQyxDQUFDO0FBRTFDLGlFQUFlQSx1REFBSyxFQUFDOztBQVVyQjs7QUFFQTs7QUFLQTs7QUFFQTs7QUFFQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvY29uZmlncy9maXJlYmFzZUFkbWluLnRzP2QyMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFkbWluIGZyb20gXCJmaXJlYmFzZS1hZG1pblwiO1xuXG5pZiAoIWFkbWluLmFwcHMubGVuZ3RoKSB7XG4gICAgY29uc3Qgc2VydmljZUFjY291bnQgPSBKU09OLnBhcnNlKHByb2Nlc3MuZW52LkZJUkVCQVNFX1NFUlZJQ0VfQUNDT1VOVCBhcyBzdHJpbmcpO1xuXG4gICAgYWRtaW4uaW5pdGlhbGl6ZUFwcCh7XG4gICAgICAgIGNyZWRlbnRpYWw6IGFkbWluLmNyZWRlbnRpYWwuY2VydChzZXJ2aWNlQWNjb3VudCksXG4gICAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gYWRtaW4uc3RvcmFnZSgpO1xuZXhwb3J0IGNvbnN0IGZpcmVzdG9yZSA9IGFkbWluLmZpcmVzdG9yZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBhZG1pbjtcblxuXG5cblxuXG4gIFxuXG5cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuXG5cbi8vIGltcG9ydCBhZG1pbiBmcm9tIFwiZmlyZWJhc2UtYWRtaW5cIjtcblxuLy8gaWYgKCFhZG1pbi5hcHBzLmxlbmd0aCkge1xuXG4vLyAgICAgY29uc3Qgc2VydmljZUFjY291bnQgPSByZXF1aXJlKFwiLi90aWVuc2FwcC05MmJhYi1maXJlYmFzZS1hZG1pbnNkay1sdXBkMy0wMGUzZDU1NWI3Lmpzb25cIik7XG5cblxuXG4vLyAgICAgYWRtaW4uaW5pdGlhbGl6ZUFwcCh7XG4vLyAgICAgICAgIGNyZWRlbnRpYWw6IGFkbWluLmNyZWRlbnRpYWwuY2VydChzZXJ2aWNlQWNjb3VudCksXG4vLyAgICAgICAgIHN0b3JhZ2VCdWNrZXQ6IFwidGllbnNhcHAtOTJiYWIuYXBwc3BvdC5jb21cIlxuLy8gICAgIH0pO1xuLy8gfVxuXG4vLyBleHBvcnQgY29uc3Qgc3RvcmFnZSA9IGFkbWluLnN0b3JhZ2UoKTtcbi8vIGV4cG9ydCBjb25zdCBmaXJlc3RvcmUgPSBhZG1pbi5maXJlc3RvcmUoKTtcblxuLy8gZXhwb3J0IGNvbnN0IGJ1Y2tldCA9IGFkbWluLnN0b3JhZ2UoKS5idWNrZXQoKTsgLy8gU3RvcmFnZSBpxZ9sZW1sZXJpIGnDp2luIEJ1Y2tldCByZWZlcmFuc8SxXG5cblxuLy8gZXhwb3J0IGRlZmF1bHQgYWRtaW47XG5cblxuIl0sIm5hbWVzIjpbImFkbWluIiwiYXBwcyIsImxlbmd0aCIsInNlcnZpY2VBY2NvdW50IiwiSlNPTiIsInBhcnNlIiwicHJvY2VzcyIsImVudiIsIkZJUkVCQVNFX1NFUlZJQ0VfQUNDT1VOVCIsImluaXRpYWxpemVBcHAiLCJjcmVkZW50aWFsIiwiY2VydCIsInN0b3JhZ2UiLCJmaXJlc3RvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/configs/firebaseAdmin.ts\n");

/***/ }),

/***/ "(api)/./server/constant/basket.js":
/*!***********************************!*\
  !*** ./server/constant/basket.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   emptyBasket: () => (/* binding */ emptyBasket)\n/* harmony export */ });\nconst emptyBasket = id => ({\n  items: [],\n  total_count: 0,\n  total_item: 0,\n  user_id: id,\n  total_amount: 0,\n  discount_total: 0\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uc3RhbnQvYmFza2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxXQUFXLEdBQUlDLEVBQUUsS0FBTTtFQUNsQ0MsS0FBSyxFQUFFLEVBQUU7RUFDVEMsV0FBVyxFQUFFLENBQUM7RUFDZEMsVUFBVSxFQUFFLENBQUM7RUFDYkMsT0FBTyxFQUFFSixFQUFFO0VBQ1hLLFlBQVksRUFBRSxDQUFDO0VBQ2ZDLGNBQWMsRUFBRTtBQUNsQixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvY29uc3RhbnQvYmFza2V0LmpzPzkxMDgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGVtcHR5QmFza2V0ID0gKGlkKSA9PiAoe1xuICBpdGVtczogW10sXG4gIHRvdGFsX2NvdW50OiAwLFxuICB0b3RhbF9pdGVtOiAwLFxuICB1c2VyX2lkOiBpZCxcbiAgdG90YWxfYW1vdW50OiAwLFxuICBkaXNjb3VudF90b3RhbDogMCxcbn0pO1xuIl0sIm5hbWVzIjpbImVtcHR5QmFza2V0IiwiaWQiLCJpdGVtcyIsInRvdGFsX2NvdW50IiwidG90YWxfaXRlbSIsInVzZXJfaWQiLCJ0b3RhbF9hbW91bnQiLCJkaXNjb3VudF90b3RhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./server/constant/basket.js\n");

/***/ }),

/***/ "(api)/./server/constant/method.js":
/*!***********************************!*\
  !*** ./server/constant/method.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   METHOD: () => (/* binding */ METHOD)\n/* harmony export */ });\nconst METHOD = {\n  GET: \"GET\",\n  POST: \"POST\",\n  PUT: \"PUT\",\n  DELETE: \"DELETE\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uc3RhbnQvbWV0aG9kLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxNQUFNLEdBQUc7RUFDcEJDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLElBQUksRUFBRSxNQUFNO0VBQ1pDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLE1BQU0sRUFBRTtBQUNWLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvY29uc3RhbnQvbWV0aG9kLmpzPzIwNjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE1FVEhPRCA9IHtcbiAgR0VUOiBcIkdFVFwiLFxuICBQT1NUOiBcIlBPU1RcIixcbiAgUFVUOiBcIlBVVFwiLFxuICBERUxFVEU6IFwiREVMRVRFXCIsXG59O1xuIl0sIm5hbWVzIjpbIk1FVEhPRCIsIkdFVCIsIlBPU1QiLCJQVVQiLCJERUxFVEUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/constant/method.js\n");

/***/ }),

/***/ "(api)/./server/constant/router.js":
/*!***********************************!*\
  !*** ./server/constant/router.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ROUTER: () => (/* binding */ ROUTER)\n/* harmony export */ });\nconst ROUTER = {\n  PRODUCTS: \"/products\",\n  CARD: \"/basket\",\n  ORDER: \"/order\",\n  ORDER_HISTORY: \"/order-history\",\n  UPLOADS: \"/uploads\",\n  RESTUARANTS: \"/restuarants\",\n  RESTUARANTS_ID: rest_id => `/restuarants/${rest_id}`,\n  CATEGORY: \"/category\",\n  CATEGORYVIDEO: \"/categoryVideo\",\n  OFFER: \"/offer\",\n  USERS_HASH_PASSWORD: \"/users-hash-password\",\n  RECORDS: \"/records\",\n  RECORDS_HISTORY: \"/records-history\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uc3RhbnQvcm91dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxNQUFNLEdBQUc7RUFDcEJDLFFBQVEsRUFBRSxXQUFXO0VBQ3JCQyxJQUFJLEVBQUUsU0FBUztFQUNmQyxLQUFLLEVBQUUsUUFBUTtFQUNmQyxhQUFhLEVBQUUsZ0JBQWdCO0VBQy9CQyxPQUFPLEVBQUUsVUFBVTtFQUNuQkMsV0FBVyxFQUFFLGNBQWM7RUFDM0JDLGNBQWMsRUFBR0MsT0FBTyxJQUFNLGdCQUFlQSxPQUFRLEVBQUM7RUFDdERDLFFBQVEsRUFBRSxXQUFXO0VBQ3JCQyxhQUFhLEVBQUUsZ0JBQWdCO0VBQy9CQyxLQUFLLEVBQUUsUUFBUTtFQUNmQyxtQkFBbUIsRUFBRSxzQkFBc0I7RUFDM0NDLE9BQU8sRUFBRSxVQUFVO0VBQ25CQyxlQUFlLEVBQUU7QUFDbkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3NlcnZlci9jb25zdGFudC9yb3V0ZXIuanM/Yjg5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUk9VVEVSID0ge1xuICBQUk9EVUNUUzogXCIvcHJvZHVjdHNcIixcbiAgQ0FSRDogXCIvYmFza2V0XCIsXG4gIE9SREVSOiBcIi9vcmRlclwiLFxuICBPUkRFUl9ISVNUT1JZOiBcIi9vcmRlci1oaXN0b3J5XCIsXG4gIFVQTE9BRFM6IFwiL3VwbG9hZHNcIixcbiAgUkVTVFVBUkFOVFM6IFwiL3Jlc3R1YXJhbnRzXCIsXG4gIFJFU1RVQVJBTlRTX0lEOiAocmVzdF9pZCkgPT4gYC9yZXN0dWFyYW50cy8ke3Jlc3RfaWR9YCxcbiAgQ0FURUdPUlk6IFwiL2NhdGVnb3J5XCIsXG4gIENBVEVHT1JZVklERU86IFwiL2NhdGVnb3J5VmlkZW9cIixcbiAgT0ZGRVI6IFwiL29mZmVyXCIsXG4gIFVTRVJTX0hBU0hfUEFTU1dPUkQ6IFwiL3VzZXJzLWhhc2gtcGFzc3dvcmRcIixcbiAgUkVDT1JEUzogXCIvcmVjb3Jkc1wiLFxuICBSRUNPUkRTX0hJU1RPUlk6IFwiL3JlY29yZHMtaGlzdG9yeVwiLCBcbn07XG4iXSwibmFtZXMiOlsiUk9VVEVSIiwiUFJPRFVDVFMiLCJDQVJEIiwiT1JERVIiLCJPUkRFUl9ISVNUT1JZIiwiVVBMT0FEUyIsIlJFU1RVQVJBTlRTIiwiUkVTVFVBUkFOVFNfSUQiLCJyZXN0X2lkIiwiQ0FURUdPUlkiLCJDQVRFR09SWVZJREVPIiwiT0ZGRVIiLCJVU0VSU19IQVNIX1BBU1NXT1JEIiwiUkVDT1JEUyIsIlJFQ09SRFNfSElTVE9SWSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./server/constant/router.js\n");

/***/ }),

/***/ "(api)/./server/helper/convertSnapsToArray.js":
/*!**********************************************!*\
  !*** ./server/helper/convertSnapsToArray.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertSnapshotToArray: () => (/* binding */ convertSnapshotToArray)\n/* harmony export */ });\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction convertSnapshotToArray(snapshot) {\n  // const data = [];\n  // snapshot.forEach((doc) => {\n  //   const item = {\n  //     id: doc.id,\n  //     ...doc.data(),\n  //   };\n\n  //   data.push(item);\n  // });\n\n  const data = snapshot.docs.map(doc => _objectSpread({\n    id: doc.id\n  }, doc.data()));\n  return data;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvaGVscGVyL2NvbnZlcnRTbmFwc1RvQXJyYXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQU8sU0FBU0Esc0JBQXNCQSxDQUFDQyxRQUFRLEVBQUU7RUFDL0M7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztFQUVBO0VBQ0E7O0VBRUEsTUFBTUMsSUFBSSxHQUFHRCxRQUFRLENBQUNFLElBQUksQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLElBQUFDLGFBQUE7SUFDakNDLEVBQUUsRUFBRUYsR0FBRyxDQUFDRTtFQUFFLEdBQ1BGLEdBQUcsQ0FBQ0gsSUFBSSxDQUFDLENBQUMsQ0FDYixDQUFDO0VBQ0gsT0FBT0EsSUFBSTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vZHktYXBwLy4vc2VydmVyL2hlbHBlci9jb252ZXJ0U25hcHNUb0FycmF5LmpzPzU1NTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTbmFwc2hvdFRvQXJyYXkoc25hcHNob3QpIHtcbiAgLy8gY29uc3QgZGF0YSA9IFtdO1xuICAvLyBzbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHtcbiAgLy8gICBjb25zdCBpdGVtID0ge1xuICAvLyAgICAgaWQ6IGRvYy5pZCxcbiAgLy8gICAgIC4uLmRvYy5kYXRhKCksXG4gIC8vICAgfTtcblxuICAvLyAgIGRhdGEucHVzaChpdGVtKTtcbiAgLy8gfSk7XG5cbiAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7XG4gICAgaWQ6IGRvYy5pZCxcbiAgICAuLi5kb2MuZGF0YSgpLFxuICB9KSk7XG4gIHJldHVybiBkYXRhO1xufVxuIl0sIm5hbWVzIjpbImNvbnZlcnRTbmFwc2hvdFRvQXJyYXkiLCJzbmFwc2hvdCIsImRhdGEiLCJkb2NzIiwibWFwIiwiZG9jIiwiX29iamVjdFNwcmVhZCIsImlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/helper/convertSnapsToArray.js\n");

/***/ }),

/***/ "(api)/./server/helper/getDataID.js":
/*!************************************!*\
  !*** ./server/helper/getDataID.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDataID: () => (/* binding */ getDataID)\n/* harmony export */ });\n/* harmony import */ var _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configs/firebaseAdmin */ \"(api)/./server/configs/firebaseAdmin.ts\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nasync function getDataID(col, itemId) {\n  try {\n    // Get the document with the specified ID from the collection\n    const productDoc = await _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__.firestore.collection(col).doc(itemId).get();\n    if (productDoc.exists) {\n      const productData = _objectSpread({\n        id: productDoc.id\n      }, productDoc.data());\n      return productData;\n    } else {\n      return \"Product not found\";\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n// import { db } from \"configs/firebase\";\n// import { doc, getDoc } from \"firebase/firestore\";\n\n// export async function getDataID(col, itemId) {\n//   const productRef = doc(db, col, itemId); // Update with your collection name\n//   const productSnap = await getDoc(productRef);\n\n//   if (productSnap.exists()) {\n//     const product = { id: productSnap.id, ...productSnap.data() };\n//     return product;\n//   } else {\n//     return \"Product not found\";\n//   }\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvaGVscGVyL2dldERhdGFJRC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFEO0FBRTlDLGVBQWVDLFNBQVNBLENBQUNDLEdBQUcsRUFBRUMsTUFBTSxFQUFFO0VBQzNDLElBQUk7SUFDRjtJQUNBLE1BQU1DLFVBQVUsR0FBRyxNQUFNSiw2REFBUyxDQUFDSyxVQUFVLENBQUNILEdBQUcsQ0FBQyxDQUFDSSxHQUFHLENBQUNILE1BQU0sQ0FBQyxDQUFDSSxHQUFHLENBQUMsQ0FBQztJQUVwRSxJQUFJSCxVQUFVLENBQUNJLE1BQU0sRUFBRTtNQUNyQixNQUFNQyxXQUFXLEdBQUFDLGFBQUE7UUFBS0MsRUFBRSxFQUFFUCxVQUFVLENBQUNPO01BQUUsR0FBS1AsVUFBVSxDQUFDUSxJQUFJLENBQUMsQ0FBQyxDQUFFO01BQy9ELE9BQU9ILFdBQVc7SUFDcEIsQ0FBQyxNQUFNO01BQ0wsT0FBTyxtQkFBbUI7SUFDNUI7RUFDRixDQUFDLENBQUMsT0FBT0ksR0FBRyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7RUFDbEI7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3NlcnZlci9oZWxwZXIvZ2V0RGF0YUlELmpzPzdhN2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZ3MvZmlyZWJhc2VBZG1pblwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YUlEKGNvbCwgaXRlbUlkKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHRoZSBkb2N1bWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgSUQgZnJvbSB0aGUgY29sbGVjdGlvblxuICAgIGNvbnN0IHByb2R1Y3REb2MgPSBhd2FpdCBmaXJlc3RvcmUuY29sbGVjdGlvbihjb2wpLmRvYyhpdGVtSWQpLmdldCgpO1xuXG4gICAgaWYgKHByb2R1Y3REb2MuZXhpc3RzKSB7XG4gICAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHsgaWQ6IHByb2R1Y3REb2MuaWQsIC4uLnByb2R1Y3REb2MuZGF0YSgpIH07XG4gICAgICByZXR1cm4gcHJvZHVjdERhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIlByb2R1Y3Qgbm90IGZvdW5kXCI7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9XG59XG5cbi8vIGltcG9ydCB7IGRiIH0gZnJvbSBcImNvbmZpZ3MvZmlyZWJhc2VcIjtcbi8vIGltcG9ydCB7IGRvYywgZ2V0RG9jIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YUlEKGNvbCwgaXRlbUlkKSB7XG4vLyAgIGNvbnN0IHByb2R1Y3RSZWYgPSBkb2MoZGIsIGNvbCwgaXRlbUlkKTsgLy8gVXBkYXRlIHdpdGggeW91ciBjb2xsZWN0aW9uIG5hbWVcbi8vICAgY29uc3QgcHJvZHVjdFNuYXAgPSBhd2FpdCBnZXREb2MocHJvZHVjdFJlZik7XG5cbi8vICAgaWYgKHByb2R1Y3RTbmFwLmV4aXN0cygpKSB7XG4vLyAgICAgY29uc3QgcHJvZHVjdCA9IHsgaWQ6IHByb2R1Y3RTbmFwLmlkLCAuLi5wcm9kdWN0U25hcC5kYXRhKCkgfTtcbi8vICAgICByZXR1cm4gcHJvZHVjdDtcbi8vICAgfSBlbHNlIHtcbi8vICAgICByZXR1cm4gXCJQcm9kdWN0IG5vdCBmb3VuZFwiO1xuLy8gICB9XG4vLyB9XG4iXSwibmFtZXMiOlsiZmlyZXN0b3JlIiwiZ2V0RGF0YUlEIiwiY29sIiwiaXRlbUlkIiwicHJvZHVjdERvYyIsImNvbGxlY3Rpb24iLCJkb2MiLCJnZXQiLCJleGlzdHMiLCJwcm9kdWN0RGF0YSIsIl9vYmplY3RTcHJlYWQiLCJpZCIsImRhdGEiLCJlcnIiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/helper/getDataID.js\n");

/***/ }),

/***/ "(api)/./server/helper/getQueryData.js":
/*!***************************************!*\
  !*** ./server/helper/getQueryData.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getQueryData: () => (/* binding */ getQueryData)\n/* harmony export */ });\n/* harmony import */ var _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configs/firebaseAdmin */ \"(api)/./server/configs/firebaseAdmin.ts\");\n/* harmony import */ var _convertSnapsToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./convertSnapsToArray */ \"(api)/./server/helper/convertSnapsToArray.js\");\n\n\nasync function getQueryData(col, key, id, condition = \"==\") {\n  try {\n    const ref = _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__.firestore.collection(col);\n    const q = ref.where(key, condition, id);\n    const querySnapshot = await q.get();\n    const data = (0,_convertSnapsToArray__WEBPACK_IMPORTED_MODULE_1__.convertSnapshotToArray)(querySnapshot);\n    return data;\n  } catch (error) {\n    console.error(\"Error getting query data:\", error);\n    throw error;\n  }\n}\n\n// import { db } from \"configs/firebase\";\n// import { collection, getDocs, query, where } from \"firebase/firestore\";\n// import { convertSnapshotToArray } from \"./convertSnapsToArray\";\n\n// export async function getQueryData(col, key, id) {\n//   const ref = collection(db, col);\n\n//   const q = query(ref, where(key, \"==\", id));\n\n//   const snapshot = await getDocs(q);\n\n//   const data = convertSnapshotToArray(snapshot);\n\n//   return data;\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvaGVscGVyL2dldFF1ZXJ5RGF0YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFDVTtBQUV4RCxlQUFlRSxZQUFZQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsRUFBRSxFQUFFQyxTQUFTLEdBQUcsSUFBSSxFQUFFO0VBQ2pFLElBQUk7SUFDRixNQUFNQyxHQUFHLEdBQUdQLDZEQUFTLENBQUNRLFVBQVUsQ0FBQ0wsR0FBRyxDQUFDO0lBQ3JDLE1BQU1NLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNOLEdBQUcsRUFBRUUsU0FBUyxFQUFFRCxFQUFFLENBQUM7SUFFdkMsTUFBTU0sYUFBYSxHQUFHLE1BQU1GLENBQUMsQ0FBQ0csR0FBRyxDQUFDLENBQUM7SUFFbkMsTUFBTUMsSUFBSSxHQUFHWiw0RUFBc0IsQ0FBQ1UsYUFBYSxDQUFDO0lBRWxELE9BQU9FLElBQUk7RUFDYixDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0lBQ2RDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLDJCQUEyQixFQUFFQSxLQUFLLENBQUM7SUFDakQsTUFBTUEsS0FBSztFQUNiO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3NlcnZlci9oZWxwZXIvZ2V0UXVlcnlEYXRhLmpzP2UwYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSBcIi4uL2NvbmZpZ3MvZmlyZWJhc2VBZG1pblwiO1xuaW1wb3J0IHsgY29udmVydFNuYXBzaG90VG9BcnJheSB9IGZyb20gXCIuL2NvbnZlcnRTbmFwc1RvQXJyYXlcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFF1ZXJ5RGF0YShjb2wsIGtleSwgaWQsIGNvbmRpdGlvbiA9IFwiPT1cIikge1xuICB0cnkge1xuICAgIGNvbnN0IHJlZiA9IGZpcmVzdG9yZS5jb2xsZWN0aW9uKGNvbCk7XG4gICAgY29uc3QgcSA9IHJlZi53aGVyZShrZXksIGNvbmRpdGlvbiwgaWQpO1xuXG4gICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IHEuZ2V0KCk7XG5cbiAgICBjb25zdCBkYXRhID0gY29udmVydFNuYXBzaG90VG9BcnJheShxdWVyeVNuYXBzaG90KTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHF1ZXJ5IGRhdGE6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBpbXBvcnQgeyBkYiB9IGZyb20gXCJjb25maWdzL2ZpcmViYXNlXCI7XG4vLyBpbXBvcnQgeyBjb2xsZWN0aW9uLCBnZXREb2NzLCBxdWVyeSwgd2hlcmUgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG4vLyBpbXBvcnQgeyBjb252ZXJ0U25hcHNob3RUb0FycmF5IH0gZnJvbSBcIi4vY29udmVydFNuYXBzVG9BcnJheVwiO1xuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UXVlcnlEYXRhKGNvbCwga2V5LCBpZCkge1xuLy8gICBjb25zdCByZWYgPSBjb2xsZWN0aW9uKGRiLCBjb2wpO1xuXG4vLyAgIGNvbnN0IHEgPSBxdWVyeShyZWYsIHdoZXJlKGtleSwgXCI9PVwiLCBpZCkpO1xuXG4vLyAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuLy8gICBjb25zdCBkYXRhID0gY29udmVydFNuYXBzaG90VG9BcnJheShzbmFwc2hvdCk7XG5cbi8vICAgcmV0dXJuIGRhdGE7XG4vLyB9XG4iXSwibmFtZXMiOlsiZmlyZXN0b3JlIiwiY29udmVydFNuYXBzaG90VG9BcnJheSIsImdldFF1ZXJ5RGF0YSIsImNvbCIsImtleSIsImlkIiwiY29uZGl0aW9uIiwicmVmIiwiY29sbGVjdGlvbiIsInEiLCJ3aGVyZSIsInF1ZXJ5U25hcHNob3QiLCJnZXQiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/helper/getQueryData.js\n");

/***/ }),

/***/ "(api)/./server/helper/uptData.js":
/*!**********************************!*\
  !*** ./server/helper/uptData.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uptData: () => (/* binding */ uptData)\n/* harmony export */ });\n/* harmony import */ var _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configs/firebaseAdmin */ \"(api)/./server/configs/firebaseAdmin.ts\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nasync function uptData(col, id, data) {\n  try {\n    // Update the document with the specified ID in the collection\n    await _configs_firebaseAdmin__WEBPACK_IMPORTED_MODULE_0__.firestore.collection(col).doc(id).update(data);\n    const updatedData = _objectSpread({\n      id\n    }, data);\n    return updatedData;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n// import { db } from \"configs/firebase\";\n// import { updateDoc, doc } from \"firebase/firestore\";\n\n// export async function uptData(col, id, data) {\n//   try {\n//     const productDocRef = doc(db, col, id);\n\n//     await updateDoc(productDocRef, data);\n\n//     const uptData = {\n//       id,\n//       ...data,\n//     };\n\n//     return uptData;\n//   } catch (err) {\n//     console.log(err);\n//   }\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvaGVscGVyL3VwdERhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxRDtBQUU5QyxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLEVBQUVDLEVBQUUsRUFBRUMsSUFBSSxFQUFFO0VBQzNDLElBQUk7SUFDRjtJQUNBLE1BQU1KLDZEQUFTLENBQUNLLFVBQVUsQ0FBQ0gsR0FBRyxDQUFDLENBQUNJLEdBQUcsQ0FBQ0gsRUFBRSxDQUFDLENBQUNJLE1BQU0sQ0FBQ0gsSUFBSSxDQUFDO0lBRXBELE1BQU1JLFdBQVcsR0FBQUMsYUFBQTtNQUNmTjtJQUFFLEdBQ0NDLElBQUksQ0FDUjtJQUVELE9BQU9JLFdBQVc7RUFDcEIsQ0FBQyxDQUFDLE9BQU9FLEdBQUcsRUFBRTtJQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDO0VBQ2xCO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3NlcnZlci9oZWxwZXIvdXB0RGF0YS5qcz9jNmU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpcmVzdG9yZSB9IGZyb20gXCIuLi9jb25maWdzL2ZpcmViYXNlQWRtaW5cIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwdERhdGEoY29sLCBpZCwgZGF0YSkge1xuICB0cnkge1xuICAgIC8vIFVwZGF0ZSB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgYXdhaXQgZmlyZXN0b3JlLmNvbGxlY3Rpb24oY29sKS5kb2MoaWQpLnVwZGF0ZShkYXRhKTtcblxuICAgIGNvbnN0IHVwZGF0ZWREYXRhID0ge1xuICAgICAgaWQsXG4gICAgICAuLi5kYXRhLFxuICAgIH07XG5cbiAgICByZXR1cm4gdXBkYXRlZERhdGE7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH1cbn1cblxuLy8gaW1wb3J0IHsgZGIgfSBmcm9tIFwiY29uZmlncy9maXJlYmFzZVwiO1xuLy8gaW1wb3J0IHsgdXBkYXRlRG9jLCBkb2MgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cHREYXRhKGNvbCwgaWQsIGRhdGEpIHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCBwcm9kdWN0RG9jUmVmID0gZG9jKGRiLCBjb2wsIGlkKTtcblxuLy8gICAgIGF3YWl0IHVwZGF0ZURvYyhwcm9kdWN0RG9jUmVmLCBkYXRhKTtcblxuLy8gICAgIGNvbnN0IHVwdERhdGEgPSB7XG4vLyAgICAgICBpZCxcbi8vICAgICAgIC4uLmRhdGEsXG4vLyAgICAgfTtcblxuLy8gICAgIHJldHVybiB1cHREYXRhO1xuLy8gICB9IGNhdGNoIChlcnIpIHtcbi8vICAgICBjb25zb2xlLmxvZyhlcnIpO1xuLy8gICB9XG4vLyB9XG4iXSwibmFtZXMiOlsiZmlyZXN0b3JlIiwidXB0RGF0YSIsImNvbCIsImlkIiwiZGF0YSIsImNvbGxlY3Rpb24iLCJkb2MiLCJ1cGRhdGUiLCJ1cGRhdGVkRGF0YSIsIl9vYmplY3RTcHJlYWQiLCJlcnIiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/helper/uptData.js\n");

/***/ }),

/***/ "(api)/./server/routes/basket.js":
/*!*********************************!*\
  !*** ./server/routes/basket.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handlerAddProductCardGET: () => (/* binding */ handlerAddProductCardGET),\n/* harmony export */   handlerAddProductCardPOST: () => (/* binding */ handlerAddProductCardPOST),\n/* harmony export */   handlerClearProductCardPOST: () => (/* binding */ handlerClearProductCardPOST),\n/* harmony export */   handlerDeleteProductCard: () => (/* binding */ handlerDeleteProductCard)\n/* harmony export */ });\n/* harmony import */ var _constant_basket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constant/basket */ \"(api)/./server/constant/basket.js\");\n/* harmony import */ var _constant_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constant/router */ \"(api)/./server/constant/router.js\");\n/* harmony import */ var _helper_getDataID__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helper/getDataID */ \"(api)/./server/helper/getDataID.js\");\n/* harmony import */ var _helper_getQueryData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helper/getQueryData */ \"(api)/./server/helper/getQueryData.js\");\n/* harmony import */ var _helper_uptData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helper/uptData */ \"(api)/./server/helper/uptData.js\");\n/* harmony import */ var _utils_jwt__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/jwt */ \"(api)/./server/utils/jwt.js\");\n/* harmony import */ var _utils_response__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/response */ \"(api)/./server/utils/response.js\");\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! firebase-admin/firestore */ \"firebase-admin/firestore\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_7__]);\nfirebase_admin_firestore__WEBPACK_IMPORTED_MODULE_7__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nconst _excluded = [\"user_id\", \"ageSize\"],\n  _excluded2 = [\"user_id\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\n\n\nconst db = (0,firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_7__.getFirestore)(); // Firestore bağlantısı\n\nasync function applyDiscountIfAvailable(userId, totalAmount, distinctItemsCount) {\n  try {\n    const discountSnapshot = await db.collection(\"discount\").where(\"userId\", \"==\", userId).get();\n\n    // Eğer kullanıcıya tanımlı indirim varsa ve farklı ürün sayısı 4 veya daha fazlaysa\n    if (!discountSnapshot.empty && distinctItemsCount >= 4) {\n      const discountDoc = discountSnapshot.docs[0];\n      const discountCode = discountDoc.data().token;\n      if (discountCode) {\n        const discountTotal = +(totalAmount * 0.8).toFixed(2); // %20 indirim\n        return {\n          discountApplied: true,\n          discountTotal\n        };\n      }\n    }\n\n    // Eğer farklı ürün sayısı 4'ten azsa discountTotal 0 olarak döner\n    return {\n      discountApplied: false,\n      discountTotal: 0\n    };\n  } catch (error) {\n    console.error(\"Error checking discount:\", error);\n    return {\n      discountApplied: false,\n      discountTotal: totalAmount\n    }; // Varsayılan olarak totalAmount döner\n  }\n}\n\n// GET handler\nasync function handlerAddProductCardGET(req, res, col) {\n  const authHeader = req.headers.authorization;\n  if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n    return res.status(401).json({\n      error: \"Unauthorized\"\n    });\n  }\n  const idToken = authHeader.split(\" \")[1];\n  try {\n    const decodedToken = (0,_utils_jwt__WEBPACK_IMPORTED_MODULE_5__.verifyJWT)(idToken);\n    const [_ref] = await (0,_helper_getQueryData__WEBPACK_IMPORTED_MODULE_3__.getQueryData)(\n    // ageSize eklendi\n    col, \"user_id\", decodedToken.userId);\n    const {\n        user_id,\n        ageSize\n      } = _ref,\n      data = _objectWithoutProperties(_ref, _excluded);\n    res.status(200).json((0,_utils_response__WEBPACK_IMPORTED_MODULE_6__.response)(data));\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      error: \"Something went wrong\"\n    });\n  }\n}\n\n// POST handler\nasync function handlerAddProductCardPOST(req, res, col) {\n  const authHeader = req.headers.authorization;\n  if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n    return res.status(401).json({\n      error: \"Unauthorized\"\n    });\n  }\n  const idToken = authHeader.split(\" \")[1];\n  try {\n    const decodedToken = (0,_utils_jwt__WEBPACK_IMPORTED_MODULE_5__.verifyJWT)(idToken);\n    const {\n      product_id,\n      ageSize\n    } = req.body;\n    const card = await (0,_helper_getQueryData__WEBPACK_IMPORTED_MODULE_3__.getQueryData)(col, \"user_id\", decodedToken.userId);\n    const userBasket = card?.[0];\n    let newItem;\n    let newItems;\n    const itemIndex = userBasket.items.findIndex(item => item.id === product_id);\n    if (itemIndex === -1) {\n      const product = await (0,_helper_getDataID__WEBPACK_IMPORTED_MODULE_2__.getDataID)(_constant_router__WEBPACK_IMPORTED_MODULE_1__.ROUTER.PRODUCTS, product_id);\n      newItem = _objectSpread(_objectSpread({}, product), {}, {\n        count: 1,\n        ageSize,\n        amount: +product.price\n      });\n      newItems = [...userBasket.items, newItem];\n    } else {\n      const findItem = _objectSpread({}, userBasket.items[itemIndex]);\n      newItems = [...userBasket.items];\n      const newCount = findItem?.count + 1;\n      newItem = _objectSpread(_objectSpread({}, findItem), {}, {\n        count: newCount,\n        ageSize,\n        amount: +(+findItem.price * newCount).toFixed(2)\n      });\n      newItems[itemIndex] = newItem;\n    }\n    const totalAmount = +newItems.reduce((sum, item) => sum + parseFloat(item.amount), 0).toFixed(2);\n    const distinctItemsCount = newItems.length; // Farklı ürün sayısı\n\n    // İndirim kontrolü ve uygulama\n    const {\n      discountApplied,\n      discountTotal\n    } = await applyDiscountIfAvailable(decodedToken.userId, totalAmount, distinctItemsCount);\n    const newdData = _objectSpread({\n      items: newItems,\n      total_count: newItems.reduce((sum, item) => sum + item.count, 0),\n      total_item: distinctItemsCount,\n      user_id: decodedToken.userId,\n      total_amount: totalAmount\n    }, discountApplied && {\n      discount_total: discountTotal\n    });\n    console.log(\"Firestore Data to Update:\", newdData);\n    const data = await (0,_helper_uptData__WEBPACK_IMPORTED_MODULE_4__.uptData)(col, userBasket.id, newdData);\n    console.log(\"Updated Firestore Data:\", data);\n    res.status(201).json(data);\n  } catch (error) {\n    console.error(\"Error in POST handler:\", error);\n    res.status(500).json({\n      error: \"Something went wrong\"\n    });\n  }\n}\n\n// DELETE handler\n// DELETE handler\nasync function handlerDeleteProductCard(req, res, col) {\n  const authHeader = req.headers.authorization;\n  if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n    return res.status(401).json({\n      error: \"Unauthorized\"\n    });\n  }\n  const idToken = authHeader.split(\" \")[1];\n  try {\n    const decodedToken = (0,_utils_jwt__WEBPACK_IMPORTED_MODULE_5__.verifyJWT)(idToken);\n    const {\n      product_id,\n      ageSize\n    } = req.body; // ageSize eklendi\n\n    const card = await (0,_helper_getQueryData__WEBPACK_IMPORTED_MODULE_3__.getQueryData)(col, \"user_id\", decodedToken.userId);\n    const userBasket = card?.[0];\n    const itemIndex = userBasket.items.findIndex(item => item.id === product_id);\n    if (itemIndex === -1) {\n      return res.status(404).json({\n        error: \"Product not found in the basket\"\n      });\n    }\n    const findItem = _objectSpread({}, userBasket.items[itemIndex]);\n    let newItems = [...userBasket.items];\n    if (findItem?.count === 1) {\n      // Ürünü tamamen sepetten çıkar\n      newItems = newItems.filter(item => item.id !== product_id);\n    } else {\n      // Ürün sayısını azalt\n      const newCount = findItem?.count - 1;\n      const newItem = _objectSpread(_objectSpread({}, findItem), {}, {\n        count: newCount,\n        ageSize,\n        // ageSize eklendi\n        amount: +(+findItem.price * newCount).toFixed(2)\n      });\n      newItems[itemIndex] = newItem;\n    }\n    const totalAmount = +newItems.reduce((sum, item) => sum + parseFloat(item.amount), 0).toFixed(2);\n    const distinctItemsCount = newItems.length; // Farklı ürün sayısı\n    const totalItems = newItems.reduce((sum, item) => sum + item.count, 0);\n\n    // İndirim kontrolü ve uygulama\n    const {\n      discountApplied,\n      discountTotal\n    } = await applyDiscountIfAvailable(decodedToken.userId, totalAmount, distinctItemsCount);\n\n    // Yeni veri oluşturma\n    const newdData = {\n      items: newItems,\n      total_count: totalItems,\n      total_item: distinctItemsCount,\n      user_id: decodedToken.userId,\n      total_amount: totalAmount,\n      discount_total: distinctItemsCount >= 4 ? discountTotal : 0 // Farklı ürün sayısı 4'ten azsa indirim sıfırlanır\n    };\n\n    const data = await (0,_helper_uptData__WEBPACK_IMPORTED_MODULE_4__.uptData)(col, userBasket.id, newdData);\n    res.status(200).json(data);\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({\n      error: \"Something went wrong\"\n    });\n  }\n}\n\n// Clear handler\nasync function handlerClearProductCardPOST(req, res, col) {\n  const authHeader = req.headers.authorization;\n  if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n    return res.status(401).json({\n      error: \"Unauthorized\"\n    });\n  }\n  const idToken = authHeader.split(\" \")[1];\n  const decodedToken = (0,_utils_jwt__WEBPACK_IMPORTED_MODULE_5__.verifyJWT)(idToken);\n  try {\n    const {\n      basket_id,\n      ageSize\n    } = req.body; // ageSize eklendi\n\n    if (!basket_id) {\n      res.status(404).json({\n        error: \"Invalid basket id\"\n      });\n    }\n    const _await$uptData = await (0,_helper_uptData__WEBPACK_IMPORTED_MODULE_4__.uptData)(col, basket_id, (0,_constant_basket__WEBPACK_IMPORTED_MODULE_0__.emptyBasket)(decodedToken.userId, ageSize) // ageSize eklendi\n      ),\n      {\n        user_id\n      } = _await$uptData,\n      data = _objectWithoutProperties(_await$uptData, _excluded2);\n    res.status(200).json(data);\n  } catch (err) {\n    console.log(err);\n    res.status(500).json({\n      error: \"Something went wrong\"\n    });\n  }\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJLENBQUNnQyxTQUFTLEVBQUU7TUFDZG5ELEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRVgsS0FBSyxFQUFFO01BQW9CLENBQUMsQ0FBQztJQUN0RDtJQUVBLE1BQUF3RCxjQUFBLEdBQTZCLE1BQU05RSx3REFBTyxDQUN4QzJCLEdBQUcsRUFDSGtELFNBQVMsRUFDVGpGLDZEQUFXLENBQUN3QyxZQUFZLENBQUM5QixNQUFNLEVBQUVpQyxPQUFPLENBQUMsQ0FBQztNQUM1QyxDQUFDO01BSks7UUFBRUQ7TUFBaUIsQ0FBQyxHQUFBd0MsY0FBQTtNQUFON0QsSUFBSSxHQUFBdUIsd0JBQUEsQ0FBQXNDLGNBQUEsRUFBQUMsVUFBQTtJQU14QnJELEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNoQixJQUFJLENBQUM7RUFDNUIsQ0FBQyxDQUFDLE9BQU8wRCxHQUFHLEVBQUU7SUFDWnBELE9BQU8sQ0FBQ21CLEdBQUcsQ0FBQ2lDLEdBQUcsQ0FBQztJQUNoQmpELEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRVgsS0FBSyxFQUFFO0lBQXVCLENBQUMsQ0FBQztFQUN6RDtBQUNGLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvLi9zZXJ2ZXIvcm91dGVzL2Jhc2tldC5qcz82NDc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVtcHR5QmFza2V0IH0gZnJvbSBcIi4uL2NvbnN0YW50L2Jhc2tldFwiO1xuaW1wb3J0IHsgUk9VVEVSIH0gZnJvbSBcIi4uL2NvbnN0YW50L3JvdXRlclwiO1xuaW1wb3J0IHsgZ2V0RGF0YUlEIH0gZnJvbSBcIi4uL2hlbHBlci9nZXREYXRhSURcIjtcbmltcG9ydCB7IGdldFF1ZXJ5RGF0YSB9IGZyb20gXCIuLi9oZWxwZXIvZ2V0UXVlcnlEYXRhXCI7XG5pbXBvcnQgeyB1cHREYXRhIH0gZnJvbSBcIi4uL2hlbHBlci91cHREYXRhXCI7XG5pbXBvcnQgeyB2ZXJpZnlKV1QgfSBmcm9tIFwiLi4vdXRpbHMvand0XCI7XG5pbXBvcnQgeyByZXNwb25zZSB9IGZyb20gXCIuLi91dGlscy9yZXNwb25zZVwiO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSBcImZpcmViYXNlLWFkbWluL2ZpcmVzdG9yZVwiO1xuXG5cbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKCk7IC8vIEZpcmVzdG9yZSBiYcSfbGFudMSxc8SxXG5cblxuYXN5bmMgZnVuY3Rpb24gYXBwbHlEaXNjb3VudElmQXZhaWxhYmxlKHVzZXJJZCwgdG90YWxBbW91bnQsIGRpc3RpbmN0SXRlbXNDb3VudCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRpc2NvdW50U25hcHNob3QgPSBhd2FpdCBkYlxuICAgICAgLmNvbGxlY3Rpb24oXCJkaXNjb3VudFwiKVxuICAgICAgLndoZXJlKFwidXNlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxuICAgICAgLmdldCgpO1xuXG4gICAgLy8gRcSfZXIga3VsbGFuxLFjxLF5YSB0YW7EsW1sxLEgaW5kaXJpbSB2YXJzYSB2ZSBmYXJrbMSxIMO8csO8biBzYXnEsXPEsSA0IHZleWEgZGFoYSBmYXpsYXlzYVxuICAgIGlmICghZGlzY291bnRTbmFwc2hvdC5lbXB0eSAmJiBkaXN0aW5jdEl0ZW1zQ291bnQgPj0gNCkge1xuICAgICAgY29uc3QgZGlzY291bnREb2MgPSBkaXNjb3VudFNuYXBzaG90LmRvY3NbMF07XG4gICAgICBjb25zdCBkaXNjb3VudENvZGUgPSBkaXNjb3VudERvYy5kYXRhKCkudG9rZW47XG5cbiAgICAgIGlmIChkaXNjb3VudENvZGUpIHtcbiAgICAgICAgY29uc3QgZGlzY291bnRUb3RhbCA9ICsodG90YWxBbW91bnQgKiAwLjgpLnRvRml4ZWQoMik7IC8vICUyMCBpbmRpcmltXG4gICAgICAgIHJldHVybiB7IGRpc2NvdW50QXBwbGllZDogdHJ1ZSwgZGlzY291bnRUb3RhbCB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEXEn2VyIGZhcmtsxLEgw7xyw7xuIHNhecSxc8SxIDQndGVuIGF6c2EgZGlzY291bnRUb3RhbCAwIG9sYXJhayBkw7ZuZXJcbiAgICByZXR1cm4geyBkaXNjb3VudEFwcGxpZWQ6IGZhbHNlLCBkaXNjb3VudFRvdGFsOiAwIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIGRpc2NvdW50OlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgZGlzY291bnRBcHBsaWVkOiBmYWxzZSwgZGlzY291bnRUb3RhbDogdG90YWxBbW91bnQgfTsgLy8gVmFyc2F5xLFsYW4gb2xhcmFrIHRvdGFsQW1vdW50IGTDtm5lclxuICB9XG59XG5cblxuLy8gR0VUIGhhbmRsZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyQWRkUHJvZHVjdENhcmRHRVQocmVxLCByZXMsIGNvbCkge1xuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcblxuICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aChcIkJlYXJlciBcIikpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgfVxuXG4gIGNvbnN0IGlkVG9rZW4gPSBhdXRoSGVhZGVyLnNwbGl0KFwiIFwiKVsxXTtcblxuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IHZlcmlmeUpXVChpZFRva2VuKTtcbiAgICBjb25zdCBbeyB1c2VyX2lkLCBhZ2VTaXplLCAuLi5kYXRhIH1dID0gYXdhaXQgZ2V0UXVlcnlEYXRhKCAvLyBhZ2VTaXplIGVrbGVuZGlcbiAgICAgIGNvbCxcbiAgICAgIFwidXNlcl9pZFwiLFxuICAgICAgZGVjb2RlZFRva2VuLnVzZXJJZFxuICAgICk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXNwb25zZShkYXRhKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIiB9KTtcbiAgfVxufVxuXG4vLyBQT1NUIGhhbmRsZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyQWRkUHJvZHVjdENhcmRQT1NUKHJlcSwgcmVzLCBjb2wpIHtcbiAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG5cbiAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoXCJCZWFyZXIgXCIpKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gIH1cblxuICBjb25zdCBpZFRva2VuID0gYXV0aEhlYWRlci5zcGxpdChcIiBcIilbMV07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkVG9rZW4gPSB2ZXJpZnlKV1QoaWRUb2tlbik7XG4gICAgY29uc3QgeyBwcm9kdWN0X2lkLCBhZ2VTaXplIH0gPSByZXEuYm9keTtcblxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCBnZXRRdWVyeURhdGEoY29sLCBcInVzZXJfaWRcIiwgZGVjb2RlZFRva2VuLnVzZXJJZCk7XG4gICAgY29uc3QgdXNlckJhc2tldCA9IGNhcmQ/LlswXTtcblxuICAgIGxldCBuZXdJdGVtO1xuICAgIGxldCBuZXdJdGVtcztcblxuICAgIGNvbnN0IGl0ZW1JbmRleCA9IHVzZXJCYXNrZXQuaXRlbXMuZmluZEluZGV4KFxuICAgICAgKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHByb2R1Y3RfaWRcbiAgICApO1xuXG4gICAgaWYgKGl0ZW1JbmRleCA9PT0gLTEpIHtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBnZXREYXRhSUQoUk9VVEVSLlBST0RVQ1RTLCBwcm9kdWN0X2lkKTtcblxuICAgICAgbmV3SXRlbSA9IHtcbiAgICAgICAgLi4ucHJvZHVjdCxcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICAgIGFnZVNpemUsXG4gICAgICAgIGFtb3VudDogK3Byb2R1Y3QucHJpY2UsXG4gICAgICB9O1xuXG4gICAgICBuZXdJdGVtcyA9IFsuLi51c2VyQmFza2V0Lml0ZW1zLCBuZXdJdGVtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmluZEl0ZW0gPSB7IC4uLnVzZXJCYXNrZXQuaXRlbXNbaXRlbUluZGV4XSB9O1xuXG4gICAgICBuZXdJdGVtcyA9IFsuLi51c2VyQmFza2V0Lml0ZW1zXTtcblxuICAgICAgY29uc3QgbmV3Q291bnQgPSBmaW5kSXRlbT8uY291bnQgKyAxO1xuXG4gICAgICBuZXdJdGVtID0ge1xuICAgICAgICAuLi5maW5kSXRlbSxcbiAgICAgICAgY291bnQ6IG5ld0NvdW50LFxuICAgICAgICBhZ2VTaXplLFxuICAgICAgICBhbW91bnQ6ICsoK2ZpbmRJdGVtLnByaWNlICogbmV3Q291bnQpLnRvRml4ZWQoMiksXG4gICAgICB9O1xuXG4gICAgICBuZXdJdGVtc1tpdGVtSW5kZXhdID0gbmV3SXRlbTtcbiAgICB9XG5cbiAgICBjb25zdCB0b3RhbEFtb3VudCA9ICtuZXdJdGVtc1xuICAgICAgLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBwYXJzZUZsb2F0KGl0ZW0uYW1vdW50KSwgMClcbiAgICAgIC50b0ZpeGVkKDIpO1xuXG4gICAgY29uc3QgZGlzdGluY3RJdGVtc0NvdW50ID0gbmV3SXRlbXMubGVuZ3RoOyAvLyBGYXJrbMSxIMO8csO8biBzYXnEsXPEsVxuXG4gICAgLy8gxLBuZGlyaW0ga29udHJvbMO8IHZlIHV5Z3VsYW1hXG4gICAgY29uc3QgeyBkaXNjb3VudEFwcGxpZWQsIGRpc2NvdW50VG90YWwgfSA9IGF3YWl0IGFwcGx5RGlzY291bnRJZkF2YWlsYWJsZShcbiAgICAgIGRlY29kZWRUb2tlbi51c2VySWQsXG4gICAgICB0b3RhbEFtb3VudCxcbiAgICAgIGRpc3RpbmN0SXRlbXNDb3VudFxuICAgICk7XG5cbiAgICBjb25zdCBuZXdkRGF0YSA9IHtcbiAgICAgIGl0ZW1zOiBuZXdJdGVtcyxcbiAgICAgIHRvdGFsX2NvdW50OiBuZXdJdGVtcy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgaXRlbS5jb3VudCwgMCksXG4gICAgICB0b3RhbF9pdGVtOiBkaXN0aW5jdEl0ZW1zQ291bnQsXG4gICAgICB1c2VyX2lkOiBkZWNvZGVkVG9rZW4udXNlcklkLFxuICAgICAgdG90YWxfYW1vdW50OiB0b3RhbEFtb3VudCxcbiAgICAgIC4uLihkaXNjb3VudEFwcGxpZWQgJiYgeyBkaXNjb3VudF90b3RhbDogZGlzY291bnRUb3RhbCB9KSwgLy8gxLBuZGlyaW0gdXlndWxhbm3EscWfc2EgeWVuaSBhbGFuIGVrbGVuaXJcbiAgICB9O1xuXG4gICAgY29uc29sZS5sb2coXCJGaXJlc3RvcmUgRGF0YSB0byBVcGRhdGU6XCIsIG5ld2REYXRhKTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB1cHREYXRhKGNvbCwgdXNlckJhc2tldC5pZCwgbmV3ZERhdGEpO1xuXG4gICAgY29uc29sZS5sb2coXCJVcGRhdGVkIEZpcmVzdG9yZSBEYXRhOlwiLCBkYXRhKTtcblxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBQT1NUIGhhbmRsZXI6XCIsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIgfSk7XG4gIH1cbn1cblxuXG4vLyBERUxFVEUgaGFuZGxlclxuLy8gREVMRVRFIGhhbmRsZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyRGVsZXRlUHJvZHVjdENhcmQocmVxLCByZXMsIGNvbCkge1xuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcblxuICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aChcIkJlYXJlciBcIikpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9KTtcbiAgfVxuXG4gIGNvbnN0IGlkVG9rZW4gPSBhdXRoSGVhZGVyLnNwbGl0KFwiIFwiKVsxXTtcblxuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IHZlcmlmeUpXVChpZFRva2VuKTtcbiAgICBjb25zdCB7IHByb2R1Y3RfaWQsIGFnZVNpemUgfSA9IHJlcS5ib2R5OyAvLyBhZ2VTaXplIGVrbGVuZGlcblxuICAgIGNvbnN0IGNhcmQgPSBhd2FpdCBnZXRRdWVyeURhdGEoY29sLCBcInVzZXJfaWRcIiwgZGVjb2RlZFRva2VuLnVzZXJJZCk7XG4gICAgY29uc3QgdXNlckJhc2tldCA9IGNhcmQ/LlswXTtcblxuICAgIGNvbnN0IGl0ZW1JbmRleCA9IHVzZXJCYXNrZXQuaXRlbXMuZmluZEluZGV4KFxuICAgICAgKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHByb2R1Y3RfaWRcbiAgICApO1xuXG4gICAgaWYgKGl0ZW1JbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIlByb2R1Y3Qgbm90IGZvdW5kIGluIHRoZSBiYXNrZXRcIiB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBmaW5kSXRlbSA9IHsgLi4udXNlckJhc2tldC5pdGVtc1tpdGVtSW5kZXhdIH07XG4gICAgbGV0IG5ld0l0ZW1zID0gWy4uLnVzZXJCYXNrZXQuaXRlbXNdO1xuXG4gICAgaWYgKGZpbmRJdGVtPy5jb3VudCA9PT0gMSkge1xuICAgICAgLy8gw5xyw7xuw7wgdGFtYW1lbiBzZXBldHRlbiDDp8Sxa2FyXG4gICAgICBuZXdJdGVtcyA9IG5ld0l0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gcHJvZHVjdF9pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIMOccsO8biBzYXnEsXPEsW7EsSBhemFsdFxuICAgICAgY29uc3QgbmV3Q291bnQgPSBmaW5kSXRlbT8uY291bnQgLSAxO1xuXG4gICAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgICAuLi5maW5kSXRlbSxcbiAgICAgICAgY291bnQ6IG5ld0NvdW50LFxuICAgICAgICBhZ2VTaXplLCAvLyBhZ2VTaXplIGVrbGVuZGlcbiAgICAgICAgYW1vdW50OiArKCtmaW5kSXRlbS5wcmljZSAqIG5ld0NvdW50KS50b0ZpeGVkKDIpLFxuICAgICAgfTtcblxuICAgICAgbmV3SXRlbXNbaXRlbUluZGV4XSA9IG5ld0l0ZW07XG4gICAgfVxuXG4gICAgY29uc3QgdG90YWxBbW91bnQgPSArbmV3SXRlbXNcbiAgICAgIC5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgcGFyc2VGbG9hdChpdGVtLmFtb3VudCksIDApXG4gICAgICAudG9GaXhlZCgyKTtcblxuICAgIGNvbnN0IGRpc3RpbmN0SXRlbXNDb3VudCA9IG5ld0l0ZW1zLmxlbmd0aDsgLy8gRmFya2zEsSDDvHLDvG4gc2F5xLFzxLFcbiAgICBjb25zdCB0b3RhbEl0ZW1zID0gbmV3SXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0uY291bnQsIDApO1xuXG4gICAgLy8gxLBuZGlyaW0ga29udHJvbMO8IHZlIHV5Z3VsYW1hXG4gICAgY29uc3QgeyBkaXNjb3VudEFwcGxpZWQsIGRpc2NvdW50VG90YWwgfSA9IGF3YWl0IGFwcGx5RGlzY291bnRJZkF2YWlsYWJsZShcbiAgICAgIGRlY29kZWRUb2tlbi51c2VySWQsXG4gICAgICB0b3RhbEFtb3VudCxcbiAgICAgIGRpc3RpbmN0SXRlbXNDb3VudFxuICAgICk7XG5cbiAgICAvLyBZZW5pIHZlcmkgb2x1xZ90dXJtYVxuICAgIGNvbnN0IG5ld2REYXRhID0ge1xuICAgICAgaXRlbXM6IG5ld0l0ZW1zLFxuICAgICAgdG90YWxfY291bnQ6IHRvdGFsSXRlbXMsXG4gICAgICB0b3RhbF9pdGVtOiBkaXN0aW5jdEl0ZW1zQ291bnQsXG4gICAgICB1c2VyX2lkOiBkZWNvZGVkVG9rZW4udXNlcklkLFxuICAgICAgdG90YWxfYW1vdW50OiB0b3RhbEFtb3VudCxcbiAgICAgIGRpc2NvdW50X3RvdGFsOiBkaXN0aW5jdEl0ZW1zQ291bnQgPj0gNCA/IGRpc2NvdW50VG90YWwgOiAwLCAvLyBGYXJrbMSxIMO8csO8biBzYXnEsXPEsSA0J3RlbiBhenNhIGluZGlyaW0gc8SxZsSxcmxhbsSxclxuICAgIH07XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdXB0RGF0YShjb2wsIHVzZXJCYXNrZXQuaWQsIG5ld2REYXRhKTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiIH0pO1xuICB9XG59XG5cblxuXG4vLyBDbGVhciBoYW5kbGVyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlckNsZWFyUHJvZHVjdENhcmRQT1NUKHJlcSwgcmVzLCBjb2wpIHtcbiAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG5cbiAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoXCJCZWFyZXIgXCIpKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gIH1cblxuICBjb25zdCBpZFRva2VuID0gYXV0aEhlYWRlci5zcGxpdChcIiBcIilbMV07XG4gIGNvbnN0IGRlY29kZWRUb2tlbiA9IHZlcmlmeUpXVChpZFRva2VuKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgYmFza2V0X2lkLCBhZ2VTaXplIH0gPSByZXEuYm9keTsgLy8gYWdlU2l6ZSBla2xlbmRpXG5cbiAgICBpZiAoIWJhc2tldF9pZCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJJbnZhbGlkIGJhc2tldCBpZFwiIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgdXNlcl9pZCwgLi4uZGF0YSB9ID0gYXdhaXQgdXB0RGF0YShcbiAgICAgIGNvbCxcbiAgICAgIGJhc2tldF9pZCxcbiAgICAgIGVtcHR5QmFza2V0KGRlY29kZWRUb2tlbi51c2VySWQsIGFnZVNpemUpIC8vIGFnZVNpemUgZWtsZW5kaVxuICAgICk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihkYXRhKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJlbXB0eUJhc2tldCIsIlJPVVRFUiIsImdldERhdGFJRCIsImdldFF1ZXJ5RGF0YSIsInVwdERhdGEiLCJ2ZXJpZnlKV1QiLCJyZXNwb25zZSIsImdldEZpcmVzdG9yZSIsImRiIiwiYXBwbHlEaXNjb3VudElmQXZhaWxhYmxlIiwidXNlcklkIiwidG90YWxBbW91bnQiLCJkaXN0aW5jdEl0ZW1zQ291bnQiLCJkaXNjb3VudFNuYXBzaG90IiwiY29sbGVjdGlvbiIsIndoZXJlIiwiZ2V0IiwiZW1wdHkiLCJkaXNjb3VudERvYyIsImRvY3MiLCJkaXNjb3VudENvZGUiLCJkYXRhIiwidG9rZW4iLCJkaXNjb3VudFRvdGFsIiwidG9GaXhlZCIsImRpc2NvdW50QXBwbGllZCIsImVycm9yIiwiY29uc29sZSIsImhhbmRsZXJBZGRQcm9kdWN0Q2FyZEdFVCIsInJlcSIsInJlcyIsImNvbCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzdGF0dXMiLCJqc29uIiwiaWRUb2tlbiIsInNwbGl0IiwiZGVjb2RlZFRva2VuIiwiX3JlZiIsInVzZXJfaWQiLCJhZ2VTaXplIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX2V4Y2x1ZGVkIiwibG9nIiwiaGFuZGxlckFkZFByb2R1Y3RDYXJkUE9TVCIsInByb2R1Y3RfaWQiLCJib2R5IiwiY2FyZCIsInVzZXJCYXNrZXQiLCJuZXdJdGVtIiwibmV3SXRlbXMiLCJpdGVtSW5kZXgiLCJpdGVtcyIsImZpbmRJbmRleCIsIml0ZW0iLCJpZCIsInByb2R1Y3QiLCJQUk9EVUNUUyIsIl9vYmplY3RTcHJlYWQiLCJjb3VudCIsImFtb3VudCIsInByaWNlIiwiZmluZEl0ZW0iLCJuZXdDb3VudCIsInJlZHVjZSIsInN1bSIsInBhcnNlRmxvYXQiLCJsZW5ndGgiLCJuZXdkRGF0YSIsInRvdGFsX2NvdW50IiwidG90YWxfaXRlbSIsInRvdGFsX2Ftb3VudCIsImRpc2NvdW50X3RvdGFsIiwiaGFuZGxlckRlbGV0ZVByb2R1Y3RDYXJkIiwiZmlsdGVyIiwidG90YWxJdGVtcyIsImVyciIsImhhbmRsZXJDbGVhclByb2R1Y3RDYXJkUE9TVCIsImJhc2tldF9pZCIsIl9hd2FpdCR1cHREYXRhIiwiX2V4Y2x1ZGVkMiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./server/routes/basket.js\n");

/***/ }),

/***/ "(api)/./server/utils/jwt.js":
/*!*****************************!*\
  !*** ./server/utils/jwt.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateJWT: () => (/* binding */ generateJWT),\n/* harmony export */   generateRefreshToken: () => (/* binding */ generateRefreshToken),\n/* harmony export */   verifyJWT: () => (/* binding */ verifyJWT)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// Access token için kullanılacak gizli anahtar\nconst secretKey = \"foody_app_user_token\";\n\n// Refresh token için kullanılacak gizli anahtar\nconst refreshSecretKey = \"foody_app_user_refresh_token\";\n\n// JWT (access token) oluşturma fonksiyonu\nfunction generateJWT(userId) {\n  const payload = {\n    userId\n  };\n  const options = {\n    expiresIn: \"14d\"\n  }; // Access token 14 gün geçerli olacak\n\n  const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, secretKey, options); // 1 saat geçerli olacak access token oluştur\n  return token;\n}\n\n// JWT doğrulama fonksiyonu\nfunction verifyJWT(token, refreshKey) {\n  try {\n    const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, refreshKey ? refreshSecretKey : secretKey);\n    return decoded;\n  } catch (error) {\n    console.error(\"JWT verification error:\", error);\n    throw new Error(\"Invalid token\"); // Hata varsa fırlat\n  }\n}\n\n// Refresh token oluşturma fonksiyonu\nconst generateRefreshToken = userId => {\n  const payload = {\n    userId\n  };\n  const options = {\n    expiresIn: \"7d\"\n  }; // Refresh token 7 gün geçerli olacak\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, refreshSecretKey, options);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvdXRpbHMvand0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStCOztBQUUvQjtBQUNBLE1BQU1DLFNBQVMsR0FBRyxzQkFBc0I7O0FBRXhDO0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsOEJBQThCOztBQUV2RDtBQUNPLFNBQVNDLFdBQVdBLENBQUNDLE1BQU0sRUFBRTtFQUNsQyxNQUFNQyxPQUFPLEdBQUc7SUFBRUQ7RUFBTyxDQUFDO0VBQzFCLE1BQU1FLE9BQU8sR0FBRztJQUFFQyxTQUFTLEVBQUU7RUFBTSxDQUFDLENBQUMsQ0FBQzs7RUFFdEMsTUFBTUMsS0FBSyxHQUFHUix3REFBUSxDQUFDSyxPQUFPLEVBQUVKLFNBQVMsRUFBRUssT0FBTyxDQUFDLENBQUMsQ0FBQztFQUNyRCxPQUFPRSxLQUFLO0FBQ2Q7O0FBRUE7QUFDTyxTQUFTRSxTQUFTQSxDQUFDRixLQUFLLEVBQUVHLFVBQVUsRUFBRTtFQUMzQyxJQUFJO0lBQ0YsTUFBTUMsT0FBTyxHQUFHWiwwREFBVSxDQUN4QlEsS0FBSyxFQUNMRyxVQUFVLEdBQUdULGdCQUFnQixHQUFHRCxTQUNsQyxDQUFDO0lBQ0QsT0FBT1csT0FBTztFQUNoQixDQUFDLENBQUMsT0FBT0UsS0FBSyxFQUFFO0lBQ2RDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHlCQUF5QixFQUFFQSxLQUFLLENBQUM7SUFDL0MsTUFBTSxJQUFJRSxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztFQUNwQztBQUNGOztBQUVBO0FBQ08sTUFBTUMsb0JBQW9CLEdBQUliLE1BQU0sSUFBSztFQUM5QyxNQUFNQyxPQUFPLEdBQUc7SUFBRUQ7RUFBTyxDQUFDO0VBQzFCLE1BQU1FLE9BQU8sR0FBRztJQUFFQyxTQUFTLEVBQUU7RUFBSyxDQUFDLENBQUMsQ0FBQztFQUNyQyxPQUFPUCx3REFBUSxDQUFDSyxPQUFPLEVBQUVILGdCQUFnQixFQUFFSSxPQUFPLENBQUM7QUFDckQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3NlcnZlci91dGlscy9qd3QuanM/YTkxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcblxuLy8gQWNjZXNzIHRva2VuIGnDp2luIGt1bGxhbsSxbGFjYWsgZ2l6bGkgYW5haHRhclxuY29uc3Qgc2VjcmV0S2V5ID0gXCJmb29keV9hcHBfdXNlcl90b2tlblwiO1xuXG4vLyBSZWZyZXNoIHRva2VuIGnDp2luIGt1bGxhbsSxbGFjYWsgZ2l6bGkgYW5haHRhclxuY29uc3QgcmVmcmVzaFNlY3JldEtleSA9IFwiZm9vZHlfYXBwX3VzZXJfcmVmcmVzaF90b2tlblwiO1xuXG4vLyBKV1QgKGFjY2VzcyB0b2tlbikgb2x1xZ90dXJtYSBmb25rc2l5b251XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVKV1QodXNlcklkKSB7XG4gIGNvbnN0IHBheWxvYWQgPSB7IHVzZXJJZCB9O1xuICBjb25zdCBvcHRpb25zID0geyBleHBpcmVzSW46IFwiMTRkXCIgfTsgLy8gQWNjZXNzIHRva2VuIDE0IGfDvG4gZ2XDp2VybGkgb2xhY2FrXG5cbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBzZWNyZXRLZXksIG9wdGlvbnMpOyAvLyAxIHNhYXQgZ2XDp2VybGkgb2xhY2FrIGFjY2VzcyB0b2tlbiBvbHXFn3R1clxuICByZXR1cm4gdG9rZW47XG59XG5cbi8vIEpXVCBkb8SfcnVsYW1hIGZvbmtzaXlvbnVcbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlKV1QodG9rZW4sIHJlZnJlc2hLZXkpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeShcbiAgICAgIHRva2VuLFxuICAgICAgcmVmcmVzaEtleSA/IHJlZnJlc2hTZWNyZXRLZXkgOiBzZWNyZXRLZXlcbiAgICApO1xuICAgIHJldHVybiBkZWNvZGVkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJKV1QgdmVyaWZpY2F0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0b2tlblwiKTsgLy8gSGF0YSB2YXJzYSBmxLFybGF0XG4gIH1cbn1cblxuLy8gUmVmcmVzaCB0b2tlbiBvbHXFn3R1cm1hIGZvbmtzaXlvbnVcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJlZnJlc2hUb2tlbiA9ICh1c2VySWQpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHsgdXNlcklkIH07XG4gIGNvbnN0IG9wdGlvbnMgPSB7IGV4cGlyZXNJbjogXCI3ZFwiIH07IC8vIFJlZnJlc2ggdG9rZW4gNyBnw7xuIGdlw6dlcmxpIG9sYWNha1xuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgcmVmcmVzaFNlY3JldEtleSwgb3B0aW9ucyk7XG59O1xuIl0sIm5hbWVzIjpbImp3dCIsInNlY3JldEtleSIsInJlZnJlc2hTZWNyZXRLZXkiLCJnZW5lcmF0ZUpXVCIsInVzZXJJZCIsInBheWxvYWQiLCJvcHRpb25zIiwiZXhwaXJlc0luIiwidG9rZW4iLCJzaWduIiwidmVyaWZ5SldUIiwicmVmcmVzaEtleSIsImRlY29kZWQiLCJ2ZXJpZnkiLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsImdlbmVyYXRlUmVmcmVzaFRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/utils/jwt.js\n");

/***/ }),

/***/ "(api)/./server/utils/response.js":
/*!**********************************!*\
  !*** ./server/utils/response.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   response: () => (/* binding */ response)\n/* harmony export */ });\nconst response = data => ({\n  message: \"OK\",\n  result: {\n    data\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvdXRpbHMvcmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BLFFBQVEsR0FBSUMsSUFBSSxLQUFNO0VBQ2pDQyxPQUFPLEVBQUUsSUFBSTtFQUNiQyxNQUFNLEVBQUU7SUFDTkY7RUFDRjtBQUNGLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2R5LWFwcC8uL3NlcnZlci91dGlscy9yZXNwb25zZS5qcz82ZmMzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCByZXNwb25zZSA9IChkYXRhKSA9PiAoe1xuICBtZXNzYWdlOiBcIk9LXCIsXG4gIHJlc3VsdDoge1xuICAgIGRhdGEsXG4gIH0sXG59KTtcbiJdLCJuYW1lcyI6WyJyZXNwb25zZSIsImRhdGEiLCJtZXNzYWdlIiwicmVzdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/utils/response.js\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbasket&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbasket%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbasket&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbasket%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_basket_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\basket\\index.js */ \"(api)/./pages/api/basket/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_basket_index_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_basket_index_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_basket_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_basket_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/basket\",\n        pathname: \"/api/basket\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_basket_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmJhc2tldCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYmFza2V0JTVDaW5kZXguanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDMkQ7QUFDM0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHVEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx1REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29keS1hcHAvP2I4YTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxiYXNrZXRcXFxcaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9iYXNrZXRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9iYXNrZXRcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbasket&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbasket%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbasket&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbasket%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();